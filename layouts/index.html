{{ define "main" }}
<article class="mx-auto prose dark:prose-dark">
  <header class="w-min">
    <h1>
      {{ .Title }}
      <div id="statusbar" class="w-100 h-2"></div>
    </h1>
  </header>
  <div>
    {{ .Content }}
</article>
{{ end }}

{{ define "script" }}
  {{ $targetPath := "js/live-player.js" }}
  {{ $defines := dict "process.env.NODE_ENV" `"production"` }}
  {{ $opts := dict "targetPath" $targetPath "defines" $defines }}
  {{ $built := resources.Get $targetPath | js.Build $opts | fingerprint }}
  <script type="text/javascript" src="{{ $built.RelPermalink }}" integrity="{{ $built.Data.Integrity }}" defer></script>
{{ end }}

---
layout: layouts/base.njk
title: Books
permalink: /books/
---

<main>
  <header>
    <h1>Books</h1>
  </header>
  {% for year in books %}
    {% set progress = 0 %}
    {% for book in year.books %}
      {% if book.progress == 100 %}
        {% set progress = (progress + 1) %}
      {% endif %}
    {% endfor %}
    {% set goalPercentage = ((progress * 100) / year.goal) %}
    <div class="grid-list">
      <h2>{{ year.list }}</h2>
      {% if year.goal %}
        <span>Yearly Goal: {{ progress }} / {{ year.goal }} books completed ({{ goalPercentage | round }}%)</span>
      {% endif %}
      <ul role="list">
      {% for book in year.books %}
      <li>
        <div>
          <img src="{{ book.cover }}">
          <a href="{{ book.link }}" target="_blank" rel="noopener noreferer">
            <span>{{ book.title }}</span>
          </a>
        </div>
        <dl>
          {% if book.progress == 100 %}
          <div>
            <dd>Finished: {{ book.date_finished }}</dd>
            <dd>Rating: {% for i in range(0, book.rating) %}â˜…{% endfor %}</dd>
          </div>
          {% else %}
            <p>{{ book.progress }}% read</p>
          {% endif %}
        </dl>
      </li>
      {% endfor %}
      </ul>
    </div>
  {% endfor %}
</main>
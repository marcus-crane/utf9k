<!DOCTYPE html>
<html lang="en">
<head>
  
  
  
  
  <link rel="stylesheet" href="/littlefoot_12488593780039224145.min.54699eaea8856da92132545b99c00faedb4366ab9b50eb1b1e6856689a884ae1.css" integrity="sha256-VGmerqiFbakhMlRbmcAPrttDZqubUOsbHmhWaJqISuE=" />
  

  <title>What is using Port 5000 on macOS Monterey? | utf9k</title>
<link rel="alternate" type="text/markdown" href="https://utf9k.net/questions/macos-port-5000-monterey/index.md">
<link rel="alternate" type="text/plain" href="https://utf9k.net/questions/macos-port-5000-monterey/index.txt">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="theme-color" content="#eaebe3" media="(prefers-color-scheme: light)" />
<meta name="theme-color" content="#1f2738" media="(prefers-color-scheme: dark)" />
<meta name="author" content="Marcus Crane" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

<meta name="description"
  content="In which I recall how to evict an annoying gremlin" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
<link rel="canonical" href="https://utf9k.net/questions/macos-port-5000-monterey/" />
<link rel="apple-touch-icon" href="/favicon.png">
<link rel="me" href="mailto:hello@utf9k.net" />
<link rel="me" href="https://mastodon.nz/@utf9k" />
<link rel="me" href="https://twitter.com/sentreh" />
<link rel="me" href="https://github.com/marcus-crane" />
<link rel="webmention" href="https://webmention.io/utf9k.net/webmention" />
<link rel="pingback" href="https://webmention.io/utf9k.net/xmlrpc" />
<meta property="og:title" content="What is using Port 5000 on macOS Monterey?" />
<meta property="og:description" content="In which I recall how to evict an annoying gremlin" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://utf9k.net/questions/macos-port-5000-monterey/" /><meta property="og:image" content="https://utf9k.net/favicon.png"/><meta property="article:section" content="questions" />

<meta property="article:modified_time" content="2023-04-16T21:59:14+12:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://utf9k.net/favicon.png"/>

<meta name="twitter:title" content="What is using Port 5000 on macOS Monterey?"/>
<meta name="twitter:description" content="In which I recall how to evict an annoying gremlin"/>
<meta name="twitter:site" content="@sentreh"/>






<link rel="stylesheet" href="/css/style.min.f927dcb0e4d3990cada1be73573ac4f5fa673a75c7e0fc28d4a7ee01400aeaaf.css" integrity="sha256-+SfcsOTTmQytob5zVzrE9fpnOnXH4Pwo1KfuAUAK6q8=" />

  
</head>
<body>
  
    <header class="navigation">
  <a href="/" id="logo">
    <img src="/favicon.png" alt="utf9k" width="16px" height="16px">
    <span>utf9k</span>
  </a>
  <nav>
    
    
    <li><a href="/blog/">Blog</a></li>
    <span>//</span>
    
    <li><a href="/projects/">Projects</a></li>
    <span>//</span>
    
    <li><a href="/about/">About</a></li>
    <span>//</span>
    
    <li><a href="/questions/">Questions</a></li>
    <span>//</span>
    
    <li><a href="/rss.xml">RSS</a></li>
    
    
  </nav>
</header>
    <div id="content">
    
<article>
  <header>
    <h1>What is using Port 5000 on macOS Monterey?</h1>
  </header>
  <div id="post-body">
    


    <p>I&rsquo;ve been fiddling a bit with <a href="https://github.com/wailsapp/wails">Wails</a> recently and I gave the unreleased v2 alpha a try.</p>
<p>Out of the box, it binds to Port 5000 and I was surprised to receive a <code>403 Forbidden</code>.</p>
<p>Definitely not what I expected.</p>
<center>
  <figure>
    <img src="403-forbidden.png" alt="A Brave browser window showing 403 Forbidden when trying to view localhost port 5000"  loading="lazy" />
  </figure>
</center><p>We can use the <code>lsof</code> utility to figure out what&rsquo;s holding on to Port 5000. You&rsquo;ll see in the screenshot below that I use a shell function called <code>whomport</code> but under the hood, it&rsquo;s running <code>lsof -nP i4TCP:5000 | grep LISTEN</code>. Let&rsquo;s see what the output looks like.</p>
<center>
  <figure>
    <img src="whomport.png" alt="A screenshot showing two windows. One is a Terminal with the output of a command called whomport. It shows Control Center listening on Port 5000 with the Process ID 2273. Behind the Terminal is Activity Monitor. Control Center is highlighted and indeed has the same Process ID of 2273."  loading="lazy" />
  </figure>
</center><p>This doesn&rsquo;t really help us much since Control Centre could be anything but a bit of searching brings up that this change was introduced in macOS Monterey.</p>
<p>In particular, there&rsquo;s a new setting under <code>System Preferences</code> -&gt; <code>Sharing</code> called <code>Airplay Receiver</code>.
Let&rsquo;s toggle it off.</p>
<center>
  <figure>
    <img src="airplay-sharing.png" alt="A screenshot showing the Sharing pane of macOS System Preferences. Airplay Receiver has been unticked."  loading="lazy" />
  </figure>
</center><p>Once this is done, you should find Port 5000 instantly freed up. It&rsquo;s weird that Apple would pick such a commonly used port, especially for developers!</p>

  </div>
</article>

    </div>
    <div id="fullscreen"></div>
  
  
  
  
  
  
  <script defer type="text/javascript" src="/js/footnotes.1be9fd05e6f9672cdc2b4f8c9a16b96016b4941e68d5ebe04a863454f8f64122.js" integrity="sha256-G&#43;n9Beb5ZyzcK0&#43;Mmha5YBa0lB5o1evgSoY0VPj2QSI="></script>

  
  
  
  
  <script defer type="text/javascript" src="/js/image-viewer.90762074c5e8b05c4d401ecb428a34fb7215f4d42d42eb93eff0f6bda5416a6d.js" integrity="sha256-kHYgdMXosFxNQB7LQoo0&#43;3IV9NQtQuuT7/D2vaVBam0="></script>

</body>
</html>

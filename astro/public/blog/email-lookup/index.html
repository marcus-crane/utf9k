<!DOCTYPE html>
<html lang="en">
<head>
  
  
  
  
  <link rel="stylesheet" href="/littlefoot_12488593780039224145.min.54699eaea8856da92132545b99c00faedb4366ab9b50eb1b1e6856689a884ae1.css" integrity="sha256-VGmerqiFbakhMlRbmcAPrttDZqubUOsbHmhWaJqISuE=" />
  

  <title>Double checking if an email address exists | utf9k</title>
<link rel="alternate" type="text/markdown" href="https://utf9k.net/blog/email-lookup/index.md">
<link rel="alternate" type="text/plain" href="https://utf9k.net/blog/email-lookup/index.txt">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="theme-color" content="#eaebe3" media="(prefers-color-scheme: light)" />
<meta name="theme-color" content="#1f2738" media="(prefers-color-scheme: dark)" />
<meta name="author" content="Marcus Crane" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

<meta name="description"
  content="There are some tricks you can use to figure out if an email address is legit" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
<link rel="canonical" href="https://utf9k.net/blog/email-lookup/" />
<link rel="apple-touch-icon" href="/favicon.png">
<link rel="me" href="mailto:hello@utf9k.net" />
<link rel="me" href="https://mastodon.nz/@utf9k" />
<link rel="me" href="https://twitter.com/sentreh" />
<link rel="me" href="https://github.com/marcus-crane" />
<link rel="webmention" href="https://webmention.io/utf9k.net/webmention" />
<link rel="pingback" href="https://webmention.io/utf9k.net/xmlrpc" />
<meta property="og:title" content="Double checking if an email address exists" />
<meta property="og:description" content="There are some tricks you can use to figure out if an email address is legit" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://utf9k.net/blog/email-lookup/" /><meta property="og:image" content="https://utf9k.net/favicon.png"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2019-09-26T00:00:00+13:00" />
<meta property="article:modified_time" content="2023-01-03T14:06:19+13:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://utf9k.net/favicon.png"/>

<meta name="twitter:title" content="Double checking if an email address exists"/>
<meta name="twitter:description" content="There are some tricks you can use to figure out if an email address is legit"/>
<meta name="twitter:site" content="@sentreh"/>






<link rel="stylesheet" href="/css/style.min.f927dcb0e4d3990cada1be73573ac4f5fa673a75c7e0fc28d4a7ee01400aeaaf.css" integrity="sha256-+SfcsOTTmQytob5zVzrE9fpnOnXH4Pwo1KfuAUAK6q8=" />

  

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Double checking if an email address exists",
  "datePublished": "2019-09-26T00:00:00-00:00"
}
</script>


</head>
<body>
  
    <header class="navigation">
  <a href="/" id="logo">
    <img src="/favicon.png" alt="utf9k" width="16px" height="16px">
    <span>utf9k</span>
  </a>
  <nav>
    
    
    <li><a href="/blog/">Blog</a></li>
    <span>//</span>
    
    <li><a href="/projects/">Projects</a></li>
    <span>//</span>
    
    <li><a href="/about/">About</a></li>
    <span>//</span>
    
    <li><a href="/questions/">Questions</a></li>
    <span>//</span>
    
    <li><a href="/rss.xml">RSS</a></li>
    
    
  </nav>
</header>
    <div id="content">
    
<article>
  <header>
    <h1>Double checking if an email address exists</h1>
    <div id="post-meta">
      <time datetime="2019-09-26 00:00:00 &#43;1300 &#43;1300">September 26, 2019</time>  · Around 9 minutes
    </div>
  </header>
  <div id="post-body">
    

<details class="my-5">
  <summary>Table of contents</summary>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#finding-the-mail-server-macos--linux">Finding the mail server (macOS / Linux)</a></li>
    <li><a href="#finding-the-mail-server-windows">Finding the mail server (Windows)</a></li>
    <li><a href="#interrogatingwhispering-to-the-mail-server">Interrogating/whispering to the mail server</a></li>
    <li><a href="#common-gotchas">Common gotchas</a>
      <ul>
        <li><a href="#blocked-ip-addresses">Blocked IP addresses</a></li>
        <li><a href="#misleading-success-codes">Misleading success codes</a></li>
      </ul>
    </li>
    <li><a href="#what-is-this-handy-for">What is this handy for?</a></li>
    <li><a href="#fun-fact">Fun fact</a></li>
  </ul>
</nav>
</details>


    <p>Sometimes I&rsquo;ll want to email someone but I don&rsquo;t know if their email address is valid. Likewise, they might have verbally told it to you, but you can&rsquo;t remember if it has a dot or a dash! Luckily, there&rsquo;s a handy way to find out using a mix of nslookup and telnet.</p>
<p>I&rsquo;ll take you through a recent example where I wanted to email Ian Small, the CEO of Evernote, to thank him and the Evernote team for their wonderful Behind the Scenes videos. You can see them <a href="https://www.youtube.com/watch?v=5rNUpXYCcrA">here</a> and I think they&rsquo;re worth a peek.</p>
<p>Anyway, if I had to take a blind guess, ian[at]evernote.com would be a valid email. Well, it is indeed and so that&rsquo;s why I&rsquo;ve picked it since it&rsquo;s such an obvious format. For the sake of learning, let&rsquo;s just pretend we&rsquo;re trying to find a valid email from scratch. Naturally, if you have a particular domain you&rsquo;re interested in, just swap out evernote.com for your domain of choice. Going forward however, I&rsquo;ll be using evernote.com.</p>
<h2 id="finding-the-mail-server-macos--linux">
  <a class="jumplink" href="#finding-the-mail-server-macos--linux" aria-hidden="true">¶</a>
  Finding the mail server (macOS / Linux)
</h2><p>For macOS and Linux, we&rsquo;ll want to use <code>nslookup</code> which should come ready to go as part of your OS/distro of choice. Fire up a terminal and enter <code>nslookup -q=MX evernote.com</code> and you should get a bunch of Google domains back like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; nslookup -q<span style="color:#ff79c6">=</span>MX evernote.com
</span></span><span style="display:flex;"><span>Server:         192.168.1.1
</span></span><span style="display:flex;"><span>Address:        192.168.1.1#53
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">20</span> alt1.aspmx.l.google.com.
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">20</span> alt2.aspmx.l.google.com.
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">30</span> aspmx2.googlemail.com.
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">30</span> aspmx3.googlemail.com.
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">30</span> aspmx4.googlemail.com.
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">30</span> aspmx5.googlemail.com.
</span></span><span style="display:flex;"><span>evernote.com    mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">10</span> aspmx.l.google.com.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Authoritative answers can be found from:
</span></span></code></pre></div><p>What we can see here is a list of the different mail servers used by Evernote. In this case, they&rsquo;re using Gmail, likely as part of Google&rsquo;s <a href="https://gsuite.google.com/">GSuite</a> offering.</p>
<p>Go ahead and copy the highest priority mail server, <code>aspmx.l.google.com</code>, to your clipboard as we&rsquo;ll be interrogating it shortly.</p>
<h2 id="finding-the-mail-server-windows">
  <a class="jumplink" href="#finding-the-mail-server-windows" aria-hidden="true">¶</a>
  Finding the mail server (Windows)
</h2><p>Personally, I&rsquo;m not much of a Windows development person so I actually had to look up the Windows equivalents.</p>
<p>For Powershell, there&rsquo;s a cmdlet called <code>Resolve-DnsName</code> that was surprisingly straight forward to use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">PS </span>C:\Users\marcus.crane&gt; <span style="color:#8be9fd;font-style:italic">Resolve-DnsName</span> -Type MX evernote.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name                                     <span style="color:#8be9fd;font-style:italic">Type </span>  TTL   Section    NameExchange                              Preference
</span></span><span style="display:flex;"><span>----                                     ----   ---   -------    ------------                              ----------
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     alt1.aspmx.l.google.com                   <span style="color:#bd93f9">20</span>
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     alt2.aspmx.l.google.com                   <span style="color:#bd93f9">20</span>
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     aspmx2.googlemail.com                     <span style="color:#bd93f9">30</span>
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     aspmx3.googlemail.com                     <span style="color:#bd93f9">30</span>
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     aspmx4.googlemail.com                     <span style="color:#bd93f9">30</span>
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     aspmx5.googlemail.com                     <span style="color:#bd93f9">30</span>
</span></span><span style="display:flex;"><span>evernote.com                             MX     <span style="color:#bd93f9">43200</span> Answer     aspmx.l.google.com                        <span style="color:#bd93f9">10</span>
</span></span></code></pre></div><p>As above, you&rsquo;ll want to copy the mail server with the highest preference, which is <code>aspmx.l.google.com</code> in this case.</p>
<p>If you&rsquo;re a diehard command prompt fan, or just don&rsquo;t like/have access to Powershell, you can also get by using command prompt. It actually has a tool called <code>nslookup</code> that comes with two modes: interactive and non-interactive. I couldn&rsquo;t get a one liner to work so instead, we&rsquo;ll just have to settle for the interactive mode.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>C:<span style="color:#f1fa8c">\U</span>sers<span style="color:#f1fa8c">\m</span>arcus.crane&gt;nslookup
</span></span><span style="display:flex;"><span>Default Server:  UnKnown
</span></span><span style="display:flex;"><span>Address:  192.168.1.1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt; <span style="color:#8be9fd;font-style:italic">set</span> <span style="color:#8be9fd;font-style:italic">q</span><span style="color:#ff79c6">=</span>mx
</span></span><span style="display:flex;"><span>&gt; evernote.com
</span></span><span style="display:flex;"><span>Server:  UnKnown
</span></span><span style="display:flex;"><span>Address:  192.168.1.1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 20, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> alt1.aspmx.l.google.com
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 20, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> alt2.aspmx.l.google.com
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 30, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> aspmx2.googlemail.com
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 30, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> aspmx3.googlemail.com
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 30, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> aspmx4.googlemail.com
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 30, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> aspmx5.googlemail.com
</span></span><span style="display:flex;"><span>evernote.com    MX <span style="color:#8be9fd;font-style:italic">preference</span> <span style="color:#ff79c6">=</span> 10, mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> aspmx.l.google.com
</span></span></code></pre></div><p>Once more, <code>aspmx.l.google.com</code>, the server with the highest preference is the one we&rsquo;re after so copy it and keep it handy.</p>
<p>If you want to read more about nslookup for command prompt, I dug up <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/nslookup">some documentation</a> which lives under the section for Windows Server. Let me know if you figure out how to use nslookup in non-interactive mode!</p>
<h2 id="interrogatingwhispering-to-the-mail-server">
  <a class="jumplink" href="#interrogatingwhispering-to-the-mail-server" aria-hidden="true">¶</a>
  Interrogating/whispering to the mail server
</h2><p>Ok, got that mail server address handy? Now the party begins because from this point, the commands should be exactly the same across all major platforms with one quick caveat.</p>
<p>Windows users? You&rsquo;ll need to enable <code>telnet</code> by searching for &ldquo;Turn Windows features on or off&rdquo;, ticking <code>Telnet Client</code> and restarting to gain access.</p>
<p>Fire up your terminal of choice and enter <code>telnet aspmx.l.google.com 25</code>. This is where you&rsquo;d substitute your own mail server if you were following along at home with a different domain. Still the same port 25 though since we&rsquo;re dealing with SMTP no matter what.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; telnet aspmx.l.google.com <span style="color:#bd93f9">25</span>
</span></span><span style="display:flex;"><span>Trying 172.217.194.26...
</span></span><span style="display:flex;"><span>Connected to aspmx.l.google.com.
</span></span><span style="display:flex;"><span>Escape character is <span style="color:#f1fa8c">&#39;^]&#39;</span>.
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">220</span> mx.google.com ESMTP b26si1910042pgs.432 - gsmtp
</span></span></code></pre></div><p>There&rsquo;s not much to see besides a 200 code, meaning we&rsquo;ve connected successfully. I feel like a lot of servers usually have a nice message like &ldquo;hi&rdquo; or &ldquo;welcome&rdquo; and I thought Google did too but I guess not.</p>
<p>Our first step is to say hello to the server, which sounds like a joke but it&rsquo;s not. Enter <code>helo hi</code> and the server should greet you back like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; helo hi
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> mx.google.com at your service
</span></span></code></pre></div><p>I&rsquo;ve artificially inserted a prompt here to denote what I&rsquo;ve entered but generally, telnet will have no such prompt.</p>
<p>Next, we&rsquo;ll need to say who the message is coming from. You can use your own email, or any email really. I like to use <a href="mailto:test@example.com">test@example.com</a> because it&rsquo;s a dummy email, but it also comes from a real domain name. If that sounds like news, <a href="https://www.iana.org">IANA</a> provides example.com as a domain for use in &ldquo;illustrative documents&rdquo; like books. Anyway, we provide our identity like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; mail from: &lt;test@example.com&gt;
</span></span><span style="display:flex;"><span>mail from: &lt;test@example.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.0 OK b26si1910042pgs.432 - gsmtp
</span></span></code></pre></div><p>We see another <code>250</code> response code followed by an <code>OK</code> which means that the mail server has accepted. If someone went wrong, we&rsquo;d see a 500 code. I think I&rsquo;ve gotten errors on rare occasions where I&rsquo;ve used fake domain names so I just use example.com to play it safe.</p>
<p>Lately, and where all our hard work pays off, is providing a recipient. This won&rsquo;t actually send an email, it&rsquo;ll just let us know if the address is real or not.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; rcpt to: &lt;ian@evernote.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 OK b26si1910042pgs.432 - gsmtp
</span></span><span style="display:flex;"><span>rcpt to: &lt;not.ian@evernote.com&gt;
</span></span><span style="display:flex;"><span>550-5.1.1 The email account that you tried to reach does not exist. Please try
</span></span><span style="display:flex;"><span>550-5.1.1 double-checking the recipient&#39;s email address <span style="color:#ff79c6">for</span> typos or
</span></span><span style="display:flex;"><span>550-5.1.1 unnecessary spaces. Learn more at
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">550</span> 5.1.1  https://support.google.com/mail/?p<span style="color:#ff79c6">=</span>NoSuchUser b26si1910042pgs.432 - gsmtp
</span></span></code></pre></div><p>As we can see, <a href="mailto:ian@evernote.com">ian@evernote.com</a> does indeed exist! We&rsquo;d receive a 550 error if the user was invalid but there are often some catches.</p>
<p>You won&rsquo;t always get it in the first go, or even necessarily have any leads on what the email structure looks like. All I can really suggest is brute force combinations until you get a response. If <a href="mailto:ian@evernote.com">ian@evernote.com</a> wasn&rsquo;t valid, my next step would look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; rcpt to: &lt;ian.small@evernote.com&gt;
</span></span><span style="display:flex;"><span>550-5.1.1 The email account that you tried to reach does not exist. Please try
</span></span><span style="display:flex;"><span>550-5.1.1 double-checking the recipient<span style="color:#f1fa8c">&#39;s email address for typos or
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">550-5.1.1 unnecessary spaces. Learn more at
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">550 5.1.1  https://support.google.com/mail/?p=NoSuchUser b26si1910042pgs.432 - gsmtp
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">rcpt to: &lt;i.small@evernote.com&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">550-5.1.1 The email account that you tried to reach does not exist. Please try
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">550-5.1.1 double-checking the recipient&#39;</span>s email address <span style="color:#ff79c6">for</span> typos or
</span></span><span style="display:flex;"><span>550-5.1.1 unnecessary spaces. Learn more at
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">550</span> 5.1.1  https://support.google.com/mail/?p<span style="color:#ff79c6">=</span>NoSuchUser b26si1910042pgs.432 - gsmtp
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;ismall@evernote.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 OK b26si1910042pgs.432 - gsmtp
</span></span></code></pre></div><p>The most common formats are probably <code>first.name</code>, <code>f.last</code> and <code>flast</code> but I&rsquo;m sure you can look up lists of common formats or something.</p>
<h2 id="common-gotchas">
  <a class="jumplink" href="#common-gotchas" aria-hidden="true">¶</a>
  Common gotchas
</h2><p>The above usually works out for me most of the time but there&rsquo;s a few different things I&rsquo;ve noticed along the way that can throw a spanner in the works.</p>
<h3 id="blocked-ip-addresses">
  <a class="jumplink" href="#blocked-ip-addresses" aria-hidden="true">¶</a>
  Blocked IP addresses
</h3><p>This is one issue I came across while writing this post and it&rsquo;s to do with mail servers that refer you to a block list.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; telnet microsoft-com.mail.protection.outlook.com <span style="color:#bd93f9">25</span>
</span></span><span style="display:flex;"><span>Trying 104.47.53.36...
</span></span><span style="display:flex;"><span>Connected to microsoft-com.mail.protection.outlook.com.
</span></span><span style="display:flex;"><span>Escape character is <span style="color:#f1fa8c">&#39;^]&#39;</span>.
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">220</span> BL2NAM06FT004.mail.protection.outlook.com Microsoft ESMTP MAIL Service ready at Thu, <span style="color:#bd93f9">26</span> Sep <span style="color:#bd93f9">2019</span> 10:51:20 +0000
</span></span><span style="display:flex;"><span>&gt; helo hi
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> BL2NAM06FT004.mail.protection.outlook.com Hello <span style="color:#ff79c6">[</span>121.74.XX.XX<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>&gt; mail from: &lt;test@example.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.0 Sender OK
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;satya.nadella@microsoft.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">550</span> 5.7.606 Access denied, banned sending IP <span style="color:#ff79c6">[</span>121.74.XX.XX<span style="color:#ff79c6">]</span>. To request removal from this list please visit https://sender.office.com/ and follow the directions. For more information please go to  http://go.microsoft.com/fwlink/?LinkID<span style="color:#ff79c6">=</span><span style="color:#bd93f9">526655</span> <span style="color:#ff79c6">(</span>AS16012609<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">[</span>BL2NAM06FT004.Eop-nam06.prod.protection.outlook.com<span style="color:#ff79c6">]</span>
</span></span></code></pre></div><p>I&rsquo;ve noticed it with websites that use Microsoft / Outlook primarily where it mentioned that your IP address, or perhaps your entire IP range, is banned and that you should visit a particular link.</p>
<p>Presumably this is because common home address ranges are blocked, as I imagine most spammers just operate from those same ranges. I don&rsquo;t really have a solution for these cases unfortunately.</p>
<h3 id="misleading-success-codes">
  <a class="jumplink" href="#misleading-success-codes" aria-hidden="true">¶</a>
  Misleading success codes
</h3><p>Some SMTP servers are configured so that every address returns a success code meaning you can&rsquo;t tell what exists and what doesn&rsquo;t</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; mail from: &lt;test@example.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.0 Sender ok
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;postmaster@fb.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 Recipient ok
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;not.a.real.user@fb.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 Recipient ok
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;mark@fb.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 Recipient ok
</span></span></code></pre></div><p>There&rsquo;s not really any way around this other than sending a real email I suppose but you can test for it pretty easily. I like to use two emails, <code>postmaster</code> and <code>not.a.real.user</code> first as a test to see what they return. By default, the large majority of mail servers, if not all, have a postmaster address by default so you can almost guarantee it exists. Likewise, you&rsquo;d almost never create an address called not.a.real.user so it quickly lets you know if you&rsquo;re going to be tricked when trying your actual target address.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; mail from: &lt;test@example.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.0 OK c127si1944876pga.334 - gsmtp
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;postmaster@evernote.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 OK c127si1944876pga.334 - gsmtp
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;not.a.real.user@evernote.com&gt;
</span></span><span style="display:flex;"><span>550-5.1.1 The email account that you tried to reach does not exist. Please try
</span></span><span style="display:flex;"><span>550-5.1.1 double-checking the recipient&#39;s email address <span style="color:#ff79c6">for</span> typos or
</span></span><span style="display:flex;"><span>550-5.1.1 unnecessary spaces. Learn more at
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">550</span> 5.1.1  https://support.google.com/mail/?p<span style="color:#ff79c6">=</span>NoSuchUser c127si1944876pga.334 - gsmtp
</span></span><span style="display:flex;"><span>&gt; rcpt to: &lt;ian@evernote.com&gt;
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">250</span> 2.1.5 OK c127si1944876pga.334 - gsmtp
</span></span></code></pre></div><h2 id="what-is-this-handy-for">
  <a class="jumplink" href="#what-is-this-handy-for" aria-hidden="true">¶</a>
  What is this handy for?
</h2><p>I first came across this trick a few years back. I had been talking to someone about a job interview, before I was actually in the tech industry but I… forgot to ask them for their email address. I remembered their name but I didn&rsquo;t know how it was formatted exactly so that&rsquo;s where this trick came in handy. It&rsquo;s useful to have in your back pocket when you want to email a semi-public figure too like the CEO of a company. Just make sure to use it wisely and respectfully. You won&rsquo;t make any friends by being malicious.</p>
<h2 id="fun-fact">
  <a class="jumplink" href="#fun-fact" aria-hidden="true">¶</a>
  Fun fact
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; nslookup -q<span style="color:#ff79c6">=</span>MX nintendo.co.uk
</span></span><span style="display:flex;"><span>Server:         192.168.1.1
</span></span><span style="display:flex;"><span>Address:        192.168.1.1#53
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non-authoritative answer:
</span></span><span style="display:flex;"><span>nintendo.co.uk  mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">20</span> luigi-mx.nintendo.de.
</span></span><span style="display:flex;"><span>nintendo.co.uk  mail <span style="color:#8be9fd;font-style:italic">exchanger</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">10</span> mario-mx.nintendo.de.
</span></span></code></pre></div>
  </div>
</article>

    </div>
    <div id="fullscreen"></div>
  
  
  
  
  
  
  <script defer type="text/javascript" src="/js/footnotes.1be9fd05e6f9672cdc2b4f8c9a16b96016b4941e68d5ebe04a863454f8f64122.js" integrity="sha256-G&#43;n9Beb5ZyzcK0&#43;Mmha5YBa0lB5o1evgSoY0VPj2QSI="></script>

  
  
  
  
  <script defer type="text/javascript" src="/js/image-viewer.90762074c5e8b05c4d401ecb428a34fb7215f4d42d42eb93eff0f6bda5416a6d.js" integrity="sha256-kHYgdMXosFxNQB7LQoo0&#43;3IV9NQtQuuT7/D2vaVBam0="></script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  
  
  
  
  <link rel="stylesheet" href="/littlefoot_12488593780039224145.min.54699eaea8856da92132545b99c00faedb4366ab9b50eb1b1e6856689a884ae1.css" integrity="sha256-VGmerqiFbakhMlRbmcAPrttDZqubUOsbHmhWaJqISuE=" />
  

  <title>Conditionally setting your gitconfig | utf9k</title>
<link rel="alternate" type="text/markdown" href="https://utf9k.net/blog/conditional-gitconfig/index.md">
<link rel="alternate" type="text/plain" href="https://utf9k.net/blog/conditional-gitconfig/index.txt">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="theme-color" content="#eaebe3" media="(prefers-color-scheme: light)" />
<meta name="theme-color" content="#1f2738" media="(prefers-color-scheme: dark)" />
<meta name="author" content="Marcus Crane" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

<meta name="description"
  content="Did you know you can change Git attributes based on what folder you&#39;re in?" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
<link rel="canonical" href="https://utf9k.net/blog/conditional-gitconfig/" />
<link rel="apple-touch-icon" href="/favicon.png">
<link rel="me" href="mailto:hello@utf9k.net" />
<link rel="me" href="https://mastodon.nz/@utf9k" />
<link rel="me" href="https://twitter.com/sentreh" />
<link rel="me" href="https://github.com/marcus-crane" />
<link rel="webmention" href="https://webmention.io/utf9k.net/webmention" />
<link rel="pingback" href="https://webmention.io/utf9k.net/xmlrpc" />
<meta property="og:title" content="Conditionally setting your gitconfig" />
<meta property="og:description" content="Did you know you can change Git attributes based on what folder you&#39;re in?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://utf9k.net/blog/conditional-gitconfig/" /><meta property="og:image" content="https://utf9k.net/favicon.png"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-08-12T20:17:00+13:00" />
<meta property="article:modified_time" content="2022-12-05T22:53:29+13:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://utf9k.net/favicon.png"/>

<meta name="twitter:title" content="Conditionally setting your gitconfig"/>
<meta name="twitter:description" content="Did you know you can change Git attributes based on what folder you&#39;re in?"/>
<meta name="twitter:site" content="@sentreh"/>






<link rel="stylesheet" href="/css/style.min.f927dcb0e4d3990cada1be73573ac4f5fa673a75c7e0fc28d4a7ee01400aeaaf.css" integrity="sha256-+SfcsOTTmQytob5zVzrE9fpnOnXH4Pwo1KfuAUAK6q8=" />

  

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Conditionally setting your gitconfig",
  "datePublished": "2021-08-12T20:17:00-00:00"
}
</script>


</head>
<body>
  
    <header class="navigation">
  <a href="/" id="logo">
    <img src="/favicon.png" alt="utf9k" width="16px" height="16px">
    <span>utf9k</span>
  </a>
  <nav>
    
    
    <li><a href="/blog/">Blog</a></li>
    <span>//</span>
    
    <li><a href="/projects/">Projects</a></li>
    <span>//</span>
    
    <li><a href="/about/">About</a></li>
    <span>//</span>
    
    <li><a href="/questions/">Questions</a></li>
    <span>//</span>
    
    <li><a href="/rss.xml">RSS</a></li>
    
    
  </nav>
</header>
    <div id="content">
    
<article>
  <header>
    <h1>Conditionally setting your gitconfig</h1>
    <div id="post-meta">
      <time datetime="2021-08-12 20:17:00 &#43;1300 &#43;1300">August 12, 2021</time>  Â· Around 2 minutes
    </div>
  </header>
  <div id="post-body">
    


    <p>Personally, I try to keep my development environment as convenient to use as possible and with the advent of <a href="https://cloud.google.com/beyondcorp">BeyondCorp-style zero trust</a>, more internal services are thankfully available without a VPN required.</p>
<p>This makes it easy to access tooling from your mobile device and other places but it can also mean the line between work and personal blurs a little bit.</p>
<p>A lot of my custom work-related configuration has been deprecated (utilities for wrangling VPNs and proxies) and I basically don&rsquo;t maintain anything more than what was <a href="https://github.com/marcus-crane/dotfiles">already open sourced</a>.</p>
<p>One last holdout has been my git configuration however, as I want to create work commits with my work email and vice versa for open source commits. It had been my impression that git had no way to support this but that hasn&rsquo;t been true for some time.</p>
<p>Thanks to <a href="https://git-scm.com/docs/git-config#_conditional_includes">conditional includes</a>, you can dynamically switch instances of your <code>.gitconfig</code> on the fly.</p>
<p>Let&rsquo;s look at an example. For example purposes, let&rsquo;s say that my code lives in <code>$HOME/work</code> and my personal code lives in <code>$HOME/projects</code>. You can do something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>user<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">email</span> <span style="color:#ff79c6">=</span> user@example.com
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">name</span> <span style="color:#ff79c6">=</span> User
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">signingkey</span> <span style="color:#ff79c6">=</span> ABC123
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>commit<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">gpgSign</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>includeIf <span style="color:#f1fa8c">&#34;gitdir:~/work/&#34;</span><span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">path</span> <span style="color:#ff79c6">=</span> ~/.work.gitconfig
</span></span></code></pre></div><p>What we&rsquo;re doing here is setting our default variables but upon interacting with a <code>.git</code> initialised repository within the <code>~/work</code> folder, we instead use our work-based config.</p>
<p>Let&rsquo;s see an example of this in action:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>&gt; <span style="color:#8be9fd;font-style:italic">pwd</span>
</span></span><span style="display:flex;"><span>/Users/person
</span></span><span style="display:flex;"><span>&gt; git config user.email
</span></span><span style="display:flex;"><span>user@example.com
</span></span><span style="display:flex;"><span>&gt; <span style="color:#8be9fd;font-style:italic">cd</span> ~/work
</span></span><span style="display:flex;"><span>&gt; <span style="color:#8be9fd;font-style:italic">pwd</span>
</span></span><span style="display:flex;"><span>/Users/person/work
</span></span><span style="display:flex;"><span>&gt; git config user.email
</span></span><span style="display:flex;"><span>business@work.com
</span></span></code></pre></div><p>Pretty cool, huh?</p>

  </div>
</article>

    </div>
    <div id="fullscreen"></div>
  
  
  
  
  
  
  <script defer type="text/javascript" src="/js/footnotes.1be9fd05e6f9672cdc2b4f8c9a16b96016b4941e68d5ebe04a863454f8f64122.js" integrity="sha256-G&#43;n9Beb5ZyzcK0&#43;Mmha5YBa0lB5o1evgSoY0VPj2QSI="></script>

  
  
  
  
  <script defer type="text/javascript" src="/js/image-viewer.90762074c5e8b05c4d401ecb428a34fb7215f4d42d42eb93eff0f6bda5416a6d.js" integrity="sha256-kHYgdMXosFxNQB7LQoo0&#43;3IV9NQtQuuT7/D2vaVBam0="></script>

</body>
</html>

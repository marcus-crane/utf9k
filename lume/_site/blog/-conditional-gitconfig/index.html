<!DOCTYPE html>
<html><head><meta property="og:type" content="website">
<meta property="og:url" content="http://localhost:3000/blog/-conditional-gitconfig/">
<meta name="twitter:card" content="summary">
</head><body><p>Personally, I try to keep my development environment as convenient to use as possible and with the advent of <a href="https://cloud.google.com/beyondcorp">BeyondCorp-style zero trust</a>, more internal services are thankfully available without a VPN required.</p>
<p>This makes it easy to access tooling from your mobile device and other places but it can also mean the line between work and personal blurs a little bit.</p>
<p>A lot of my custom work-related configuration has been deprecated (utilities for wrangling VPNs and proxies) and I basically don't maintain anything more than what was <a href="https://github.com/marcus-crane/dotfiles">already open sourced</a>.</p>
<p>One last holdout has been my git configuration however, as I want to create work commits with my work email and vice versa for open source commits. It had been my impression that git had no way to support this but that hasn't been true for some time.</p>
<p>Thanks to <a href="https://git-scm.com/docs/git-config#_conditional_includes">conditional includes</a>, you can dynamically switch instances of your <code>.gitconfig</code> on the fly.</p>
<p>Let's look at an example. For example purposes, let's say that my code lives in <code>$HOME/work</code> and my personal code lives in <code>$HOME/projects</code>. You can do something like this:</p>
<pre><code class="language-shell hljs">[user]
  email = user@example.com
  name = User
  signingkey = ABC123
[commit]
  gpgSign = true
[includeIf "gitdir:~/work/"]
  path = ~/.work.gitconfig
</code></pre>
<p>What we're doing here is setting our default variables but upon interacting with a <code>.git</code> initialised repository within the <code>~/work</code> folder, we instead use our work-based config.</p>
<p>Let's see an example of this in action:</p>
<pre><code class="language-shell hljs"><span class="hljs-meta prompt_">&gt; </span><span class="language-bash"><span class="hljs-built_in">pwd</span></span>
/Users/person
<span class="hljs-meta prompt_">&gt; </span><span class="language-bash">git config user.email</span>
user@example.com
<span class="hljs-meta prompt_">&gt; </span><span class="language-bash"><span class="hljs-built_in">cd</span> ~/work</span>
<span class="hljs-meta prompt_">&gt; </span><span class="language-bash"><span class="hljs-built_in">pwd</span></span>
/Users/person/work
<span class="hljs-meta prompt_">&gt; </span><span class="language-bash">git config user.email</span>
business@work.com
</code></pre>
<p>Pretty cool, huh?</p>
</body></html>
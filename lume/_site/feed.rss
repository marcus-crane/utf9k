<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" version="2.0">
  <channel>
    <title>My RSS Feed</title>
    <link>http://localhost:3000/</link>
    <atom:link href="http://localhost:3000/feed.rss" rel="self" type="application/rss+xml"/>
    <description></description>
    <lastBuildDate>Mon, 23 Oct 2023 07:55:20 GMT</lastBuildDate>
    <language>en</language>
    <generator>Lume v1.19.2</generator>
    <item>
      <title/>
      <link>http://localhost:3000/</link>
      <guid isPermaLink="false">http://localhost:3000/</guid>
      <description/>
      <content:encoded>
        <![CDATA[<!DOCTYPE html>
        <html lang="en">
        <head>
        
        <title>utf9k</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="theme-color" content="#eaebe3" media="(prefers-color-scheme: light)" />
        <meta name="theme-color" content="#1f2738" media="(prefers-color-scheme: dark)" />
        <meta name="author" content="Marcus Crane" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
        <link rel="shortcut icon" href="http://localhost:3000/favicon.ico" />
        <link rel="icon" type="image/png" href="http://localhost:3000/favicon.png" sizes="16x16">
        <link rel="apple-touch-icon" href="http://localhost:3000/favicon.png">
        <link rel="me" href="mailto:hello@utf9k.net" />
        <link rel="me" href="https://mastodon.nz/@utf9k" />
        <link rel="me" href="https://twitter.com/sentreh" />
        <link rel="me" href="https://github.com/marcus-crane" />
        <link rel="webmention" href="https://webmention.io/utf9k.net/webmention" />
        <link rel="pingback" href="https://webmention.io/utf9k.net/xmlrpc" />
        <link rel="stylesheet" href="http://localhost:3000/css/style.css" />
        </head>
        <body>
        <div id="content">
        
        <article class="full">
        <div id="home-wrapper">
        <div id="welcome-message">
        <center>
        <header>
        <h1>Welcome!</h1>
        </header>
        </center>
        <hr />
        <center>
        <header>
        <h3>Here's a random(ly generated) thought</h3>
        </header>
        <p>Apparently you're supposed to feel rested after sleep but I haven't read the literature myself</p>
        </center>
        <hr />
        <div class="post-stream">
        <center>
        <header>
        <h3>
        <a href="http://localhost:3000/books/">Books I'm *ahem* paging through</a>
        </h3>
        </header>
        <ul>
        
        
        <li style="display: inline-block;">
        <img alttitle="OpenLibrary" altsrc="https://openlibrary.org/works/OL17581297W/High_Performance_Browser_Networking" alt="A cover image of the book titled High Performance Browser Networking" src="https://covers.openlibrary.org/b/id/14411035-L.jpg" height="180px" style="border-radius: 3px;" />
        <p>36% read</p>
        </li>
        
        
        
        <li style="display: inline-block;">
        <img alttitle="OpenLibrary" altsrc="https://openlibrary.org/works/OL29300070W/Wrong_Way" alt="A cover image of the book titled Wrong Way" src="https://covers.openlibrary.org/b/id/12996382-L.jpg" height="180px" style="border-radius: 3px;" />
        <p>16% read</p>
        </li>
        
        
        
        
        
        
        
        
        </ul>
        </center>
        </div>
        <hr />
        <div class="post-stream">
        <center>
        <header>
        <h3>Manga I'm actively churning through</h3>
        </header>
        <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        <li style="display: inline-block;">
        <img alttitle="AniList" altsrc="https://anilist.co/manga/40002" alt="A cover image of Final Fantasy XII, a manga series by Gin Amou" src="https://s4.anilist.co/file/anilistcdn/media/manga/cover/medium/10002.jpg" height="180px" style="border-radius: 3px;" />
        <p>17 chapters left<p>
        </li>
        
        
        
        
        
        
        
        <li style="display: inline-block;">
        <img alttitle="AniList" altsrc="https://anilist.co/manga/30770" alt="A cover image of GUNNM: Last Order, a manga series by Yukito Kishiro" src="https://s4.anilist.co/file/anilistcdn/media/manga/cover/large/bx30770-LkQ1FCwWIO9H.jpg" height="180px" style="border-radius: 3px;" />
        <p>83 chapters left<p>
        </li>
        
        
        
        
        
        
        
        
        
        
        <li style="display: inline-block;">
        <img alttitle="AniList" altsrc="https://anilist.co/manga/30001" alt="A cover image of MONSTER, a manga series by Naoki Urasawa" src="https://s4.anilist.co/file/anilistcdn/media/manga/cover/large/bx30001-Vft5PAKPrY1W.jpg" height="180px" style="border-radius: 3px;" />
        <p>157 chapters left<p>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        </ul>
        </center>
        </div>
        </div>
        <div id="recent-updates">
        <div id="liveplayer">
        <!-- Curious how my live player works? The unminified source code lives at https://github.com/marcus-crane/utf9k/blob/main/assets/js/live-player.js -->
        <h3 id="action">üòµ‚Äçüí´ This widget should have loaded by now!</h3>
        <div>
        <div id="rotating-border" class="rotating-border-hidden">
        <img src="http://localhost:3000/cover.png" id="cover" alt="A grey placeholder cover that is just taking up space until the real cover art is loaded">
        </div>
        </div>
        <strong id="title">Fingers Crossed</strong>
        <br />
        <i id="subtitle">It should update if things aren't broken</i>
        <br />
        <div id="progress">
        <i id="elapsed">00:00</i> / <i id="duration">59:59</i>
        </div>
        </div>
        <div class="player-history">
        <p>Previously</p>
        <ul id="played-items">
        </ul>
        </div>
        <hr />
        <div class="post-stream">
        <h3>Recently updated pages</h3>
        <ul>
        
        <li>
        <a href="http://localhost:3000/"></a>
        </li>
        
        <li>
        <a href="http://localhost:3000/blog/-spreadsheet-to-visualisation/">Spreadsheet to visualisation: How I created towing.utf9k.net</a>
        </li>
        
        <li>
        <a href="http://localhost:3000/blog/-i-dont-identify-as-anxious/">I don't identify as anxious</a>
        </li>
        
        <li>
        <a href="http://localhost:3000/blog/-miserable-presentation-tips/">Miserable presentation tips</a>
        </li>
        
        <li>
        <a href="http://localhost:3000/blog/-inefficient-habit-forming/">Habit forming in the least efficient way possible</a>
        </li>
        
        <li>
        <a href="http://localhost:3000/blog/-so-you-have-or-are-competition/">So you have (or are) competition</a>
        </li>
        
        </ul>
        </div>
        <hr />
        <center>
        <div class="post-stream">
        <header>
        <h3>
        <a href="http://localhost:3000/games/">Games I'm (slowly) progressing through</a>
        </h3>
        </header>
        <ul>
        
        <li style="display: inline-block;">
        <img alttitle="IGDB" altsrc="https://howlongtobeat.com/game/57335" alt="Box art for the game titled Disco Elysium" src="https://howlongtobeat.com/games/57335_Disco_Elysium.jpg" height="180px" style="border-radius: 3px;" />
        </li>
        
        </ul>
        </div>
        </center>
        <hr />
        </div>
        </div>
        </article>
        
        </div>
        <div id="fullscreen"></div>
        </body>
        </html>]]>
      </content:encoded>
      <pubDate>Sat, 21 Oct 2023 07:53:01 GMT</pubDate>
    </item>
    <item>
      <title>Spreadsheet to visualisation: How I created towing.utf9k.net</title>
      <link>http://localhost:3000/blog/-spreadsheet-to-visualisation/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-spreadsheet-to-visualisation/</guid>
      <description>How I finished a project that was sitting on the backburner for years</description>
      <content:encoded>
        <![CDATA[<p>From time to time, I like to <a href="https://utf9k.net/blog/nz-oia-guide/">submit requests under the Official Information Act</a> and see what fun datasets I can get my hands on.</p>
        <p>A few of these projects end up on the back burner and <a href="https://towing.utf9k.net/">towing.utf9k.net</a> was no different. Before we get too far, you might want to <a href="https://utf9k.net/projects/towing/">read this brief overview</a> about what it does to build some context.</p>
        <p>All up, it took me something like 4 or 5 years to finally consider it &quot;complete&quot;, in large part because I would hit a wall and not really be sure where to go from there.</p>
        <p>With perfect 20/20 hindsight, such a project would be very quick to complete but for those starting out in the mapping space, taking a scenic walk through the creation process should hopefully serve as a nice jumping off point for how you might approach your own projects.</p>
        <p>Thankfully, I kept all of my &quot;workings&quot; like as my cobbled together Python scripts and intermediate datasets, such that we can work through them from start to finish so you can have an idea of how this fun little visualisation was made.</p>
        <p>It's probably worth noting that I'm not a data scientist by any means and a lot of steps could probably be made redundant if I knew better but it's all a means to an end, and the end is pretty neat so I don't really mind airing my dirty laundry.</p>
        <h2>Obtaining inspiration</h2>
        <p>This is probably the hardest step.</p>
        <p>As mentioned in my <a href="https://utf9k.net/projects/towing/">brief project write up</a>, the idea for a towing visualisation came to me when I was sitting at a cafe. I don't imagine I would have come up with the idea any other way so it was basically a fluke.</p>
        <p>The next best thing is seeing what other cool creations are floating around online.</p>
        <p>Personally, most of what I've stumbled on has come by way of <a href="https://news.ycombinator.com/">Hacker News</a>. I didn't realise it at the time, but I think a few of my favourites that stick out have all come from <a href="https://twitter.com/foiachap">Matt Chapman</a>.</p>
        <p><a href="https://mchap.io/using-foia-data-and-unix-to-halve-major-source-of-parking-tickets.html">Using FOIA Data and Unix to halve major source of parking tickets</a> was a particularly big inspiration on <a href="https://utf9k.net/projects/parnell/">this smaller project of mine</a> which ended up going in a different direction than what he had put together.</p>
        <p>Looking back at it after all these years, and having a few pieces under my belt, I feel like there's even more to improve in my own process so writing this post in itself has already been a big win for me.</p>
        <p>Anyway, all this to say: As is usually the case, starting is often harder than any other part of the process.</p>
        <p>Once the ball is rolling, you may hit some hard problems but I find it's usually rare that they're difficult in the sense of an immovable object. It's more that it's just a lot of work or figuring out the right terminology to use in a search query that will get you a step closer to the right tool.</p>
        <p>Let's actually take a look at the project in more detail.</p>
        <h2>Obtaining our dataset</h2>
        <p>This part varies depending on what type of data you're looking for and depending on the country you're in.</p>
        <p>Here in New Zealand, we have the <a href="https://utf9k.net/blog/nz-oia-guide/">Official Information Act</a> which defaults to everything being open unless there is a good reason for it not to be.</p>
        <p>On top of that, we have <a href="https://catalogue.data.govt.nz/dataset">some pretty proactive agencies continuously publishing interesting datasets</a> so not everything necessarily requires a formal request either.</p>
        <p>In my case, I was after data about vehicles that were towed in Auckland City which is not readily available, at least as far as I'm aware.</p>
        <p>Finding the correct authority can be a bit of a wild goose chase when you're first starting out but most agencies should be pretty helpful in letting you know where the data you're after might be held.</p>
        <p>Initially, I did a search for <code>auckland transport towing</code> which surfaced <a href="https://at.govt.nz/driving-parking/parking-rules/towing/">this page</a> and I noticed an interesting mention near the bottom.</p>
        <blockquote>
        <p>AT contractors and private towing companies must notify police when they have towed a vehicle. They are required to provide the licence plate number and location they have moved the vehicle to.</p>
        </blockquote>
        <p>I figured contacting the New Zealand Police might be worth a shot in case they happened to hold more comprehensive information than Auckland Transport themselves.</p>
        <p>In the end, they transferred my request to a <a href="https://www.watercare.co.nz/Contact/Official-information-request">LGOIMA</a>[^lgoima] Business Partner which I wouldn't have known was the right place, but most agencies are pretty good at redirecting you where you should go like that.</p>
        <p>You can read <a href="https://fyi.org.nz/request/11018-request-of-towing-data-for-three-tamaki-makaurau-police-districts">the full correspondence</a> to get an idea of how to structure a request, what some of the back and forth might look like, and to get a copy of the dataset.</p>
        <p>With our dataset on hand, let's fire it up and take a look at what we've got to work with.</p>
        <h2>Making our dataset palatable</h2>
        <p>Opening up <code>Marcus Aug 2016 Jul 2019.xlsx</code> certainly leaves a lot to be desired.</p>
        <p><img src="http://localhost:3000/blog/-spreadsheet-to-visualisation/spreadsheet.png" alt="A screenshot of an Excel spreadsheet. There are many workbooks which each contain data for a specific year between 2016 and 2019. The data is formatted visually but will be a huge pain to access programmatically."></p>
        <p>With just an initial glance, we can already spot a bunch of pain points with this data set:</p>
        <ul>
        <li>This dataset will be hard to query programmatically. In the <code>Date and Time</code> column for instance, we have a mix of times and dates. If you were to take a random row, you would need to step back <code>n</code> number of rows to figure out the date and then apply that date to each row going forward, until you hit the next cell that resembles a date.</li>
        <li>Addresses do not have much consistency.
        <ul>
        <li>Some addresses include street numbers while others do not.</li>
        <li>None of them contain suburbs so we may have address clashes with no way to know the &quot;correct&quot; one</li>
        <li>Terms like <code>OPP</code> in the case of &quot;Opposite 55 Ngapuhi Road&quot; which don't tell us anything useful.</li>
        </ul>
        </li>
        <li>The file column contains numbers that we need to map to something meaningful</li>
        <li>At least two visible entries have a vehicle starting from the same street they end up in
        <ul>
        <li>Perhaps they were towed around the block or moved to unblock something? The data doesn't say so we can only assume.</li>
        </ul>
        </li>
        </ul>
        <p>For the first iteration of this project, I decided to ignore any information that would be hard to interpret so missing street numbers and the like were put to one side just to get things moving.</p>
        <p>For this step, I reached for <a href="https://en.wikipedia.org/wiki/Python_(programming_language)">Python</a> and <a href="https://pandas.pydata.org/">Pandas</a> to create a hacky script that brute forced this dataset into something nice and easy to play with.</p>
        <p>Python is generally nice for these sorts of explorations, not only because it has a strong data science library but the lack of strong typing makes it easy to cludge together a project when your underlying data is a complete mess, structurally speaking.</p>
        <p><a href="https://utf9k.net/blog/tidying-towing-data/">The entire process was detailed step by step</a> on my blog a few years back. I had gotten as far as tidying the data but was a bit stumped on how to make anything usable out of it at a time.</p>
        <p>For the impatient, <a href="https://github.com/marcus-crane/datasets/blob/main/auckland-towing/sheet_to_db.py">this script</a> is all you need to skim.</p>
        <p>Let's jump ahead to the end of that post which leaves us with a <a href="https://www.sqlite.org/index.html">sqlite</a> database called <code>towing.db</code>.</p>
        <h2>Geocoding - what is it?</h2>
        <p>While we have a nice queryable list of addresses, they don't actually mean anything to us in plain English. What we really want is a list of coordinates that we can plot on a map.</p>
        <p>The process of taking an address and transforming it into a set of coordinates is known as <a href="https://en.wikipedia.org/wiki/Address_geocoding">Address geocoding</a>, or just &quot;geocoding&quot; for short.</p>
        <p>While we aren't doing it in this project, it might be interesting to know that the reverse process of taking a set of coordinates and turning it into the nearest address is called <a href="https://en.wikipedia.org/wiki/Geographic_information_system#Reverse_geocoding">Reverse geocoding</a></p>
        <p>So, how do we go about geocoding?</p>
        <p>Well, there are a <a href="https://docs.mapbox.com/api/search/geocoding/">few</a> <a href="https://developers.google.com/maps/documentation/geocoding/overview">geocoding</a> <a href="https://developer.here.com/documentation/geocoding-search-api/dev_guide/index.html">providers</a> that you could turn to but we have a pretty sizeable dataset:</p>
        <pre><code class="language-sql">sqlite&gt; SELECT count(*) FROM events;
        count(*) = 49174
        </code></pre>
        <p>If we look at <a href="https://www.here.com/get-started/pricing">HERE Maps</a> as an example, our dataset falls within the <code>30,001 to 5,000,000</code> requests/month category giving us a cost of <code>0.830</code> USD per 1000 requests.</p>
        <p>We'll round it up to 50,000 to account for some API failures and network connectivity issues on our end and we're looking at around $40 USD. Admittedly, that is a lot cheaper than I remember. Perhaps the prices have come down a lot since I last looked?</p>
        <p>In the case of Mapbox, it seems this would <a href="https://www.mapbox.com/pricing/#search">even fall within their free tier</a> so I would probably just go that route if I was starting from scratch.</p>
        <p>The other thing to consider is how many requests can you make before hitting a rate limit since you have to send every address across the wire, whether batched or otherwise.</p>
        <p>In our case, we're going to do it all locally for free in exchange for a bit of elbow grease.</p>
        <h2>Geocoding - Doing it in practice</h2>
        <p>First, we need a dataset that will translate addresses to coordinates.</p>
        <p>Here in New Zealand, <a href="https://www.linz.govt.nz/">Land Information New Zealand</a> provides this and many other datasets for free, by way of the <a href="https://www.linz.govt.nz/products-services/data/linz-data-service">LINZ Data Service</a>.</p>
        <p><img src="http://localhost:3000/blog/-spreadsheet-to-visualisation/lds.png" alt="A screenshot of the LINZ Data Service, a web browser for viewing map layers and other types of data sets. In this image, the NZ Addresses dataset is selected and partly visible on the right side of the screen. On the left side is the LDS data set browser."></p>
        <p>What we're looking at is one data point for each address in New Zealand that contains both the address broken into its component parts as well as the coordinates for that address.</p>
        <p>To get started, we'll download the dataset as a CSV and using <a href="https://sqlite-utils.datasette.io/en/stable/">sqlite-utils</a> from the <a href="https://datasette.io/">Datasette</a> project, we can <a href="https://github.com/marcus-crane/datasets/blob/main/auckland-towing/import_addresses.sh#L4">insert the contents into our existing sqlite database</a> which will let us perform joins between our two datasets down the line.</p>
        <p>A quick way to &quot;geocode&quot; is to just take all these addresses and then do a rough lookup to find an address that matches each one of our towing addresses. All that's left is to check the associated coordinates if we get a match.</p>
        <p>These days, I would probably look at <a href="https://github.com/pelias/pelias">Pelias</a> as a middle ground although I haven't used it before.</p>
        <p>With <a href="https://github.com/marcus-crane/datasets/blob/765e97df94daa053f87970496d53ce9f50c21c39/auckland-towing/match-events-to-addresses.py">a bit more data munging</a>, we have a script that does exactly that.</p>
        <p>In order to improve the odds of a match occurring, I added in some brute force checks to transform the most common abbreviations into their full names such as <code>st</code> becoming <code>street</code>.</p>
        <p>This process was quite lossy, as seen by the number of addresses that I wrote out to <a href="https://github.com/marcus-crane/datasets/blob/765e97df94daa053f87970496d53ce9f50c21c39/auckland-towing/failures.txt">a text file containing failed translations</a>.</p>
        <p>Given the sheer number of originating data points, I didn't worry about this too much since there'd be more than enough results to play with but it might be interesting to fix up a lot of the leftovers sometime.</p>
        <p>Lastly, our matching pair of addresses were <a href="https://github.com/marcus-crane/datasets/blob/765e97df94daa053f87970496d53ce9f50c21c39/auckland-towing/trips.csv">output to a CSV file</a> for quick lookup in the next bit of the process.</p>
        <p>This probably isn't necessary but I figured that it would allow for quicker lookups iterating through a CSV file than having to perform joins between our two tables for every event. As with all things in this messy process, as long as it gets us to our final destination, doing it &quot;right&quot; doesn't matter too much.</p>
        <h2>Translating our coordinates into routes</h2>
        <p>We now have a set of start and end coordinates that represent where a vehicle was towed from and where it ended up.</p>
        <p>This is a good start but if we were to plot these on a map and then start simulating traffic between those two points, we would get something silly like this.</p>
        <p><img src="http://localhost:3000/blog/-spreadsheet-to-visualisation/map-direct.png" alt="A Mapbox map layer showing Newmarket, Auckland, New Zealand. There are two numbered points on opposite sides of the map with a line going straight from one to the other."></p>
        <p>It goes without saying that cars don't work this way in real life, just cutting through buildings and chunks of lands, so we somehow need to simulate the route that a vehicle is most likely to take so we have something more like this.</p>
        <p><img src="http://localhost:3000/blog/-spreadsheet-to-visualisation/map-points.png" alt="A Mapbox map layer showing Newmarket, Auckland, New Zealand. There are many numbered points, each at main intersections of the map with lines joining between them. It roughly follows the path that a car might drive."></p>
        <p>Figuring out how to generate routing data was a massive blocker for this project for a long time until I discovered the existence of <a href="https://github.com/GIScience/openrouteservice">openrouteservice</a>.</p>
        <p>In short, it's a Java service that can be run locally in order to generate routing information. Better yet, it has a JSON API where you can submit coordinates and receive back structured routing information which is exactly what we need.</p>
        <p>We specifically want the <code>/ors/v2/directions/driving-car</code> endpoint to generate direction for a car.</p>
        <p>If you wanted to go even further, it might be interesting to gather average traffic data to simulate the speed to might take to drive down any given road but to make life easier, I just generated some fake timestamps that incremented by 2 seconds for each route.</p>
        <p>Part of this is because the routes are actually very detailed, even more so than we need for our visualisation so we end up with a lot of navigation directions.</p>
        <p>With all this in mind, <a href="https://github.com/marcus-crane/datasets/blob/765e97df94daa053f87970496d53ce9f50c21c39/auckland-towing/trips-to-vis.py">we can put together another script</a> that slowly iterates through our dataset and saves the resulting output into a file called <code>routes.json</code>.</p>
        <p>It has a bit of a weird format but don't read too much into it. It's just specific to the visualisation library that we're going to talk about next.</p>
        <h2>Putting together our visualisation</h2>
        <p>There are a great deal of visualisation tools out there but one I had been meaning to try for some time is <a href="https://deck.gl/">deck.gl</a>, a WebGL framework by Uber.</p>
        <p>Particularly, I had come across their <a href="https://deck.gl/examples/trips-layer">TripsLayer demo</a> some time back. I don't recall but I probably saw the demo and thought it was exactly what I had in mind for how a representation of this towing data might look.</p>
        <p>It turns out that the source code for all of the demo is available, <a href="https://github.com/visgl/deck.gl/tree/8.9-release/examples/website/trips">including TripsLayer</a>, so rather than reinvent the wheel, I took what was already released and restructured my dataset to fit.</p>
        <p>I did rip out some bits of the source code and made other tweaks but for the most part, the fundamentals didn't change greatly.</p>
        <p>With our <code>routes.json</code> file generated in the last step, plugging the new data set in and spinning up the project gave us a nice, albeit a bit boring map to look out.</p>
        <p>Our project was complete... or was it?</p>
        <p>Unfortunately, due to the sheer number of data points in the graph, the visualisation was sluggish at best and near unusable on mobile.</p>
        <p>it didn't stop me from publishing the project and sharing it around with some colleagues but I was never quite happy with it.</p>
        <p>Fast forward another year and I finally sat down to make some performance improvements.</p>
        <h2>Cutting through the acres of data points</h2>
        <p>There wasn't much of a diagnosis to make other than &quot;There's too much dang data&quot;.</p>
        <p>Rather than try anything fancy, I continued the theme of the brute force approach and took a machete to the dataset, slimming it down greatly.</p>
        <p>Breaking from tradition, I <a href="https://github.com/marcus-crane/datasets/blob/765e97df94daa053f87970496d53ce9f50c21c39/auckland-towing/slim-down-routes.go">wrote a quick program in Go</a> because I felt that it would have a better change of succeeding in a reasonable time frame than something based in Python, not to mention we now had a well-structured dataset to make life easier.</p>
        <p>At a high level, the script kept the first and last data points for each route taken and randomly deleted all of the points in between until just 10 were left.</p>
        <p>This seemed like it would break everything but it had the reverse effect. Not only did the performance greatly improve but the graph looked much cooler as well.</p>
        <h2>Lessons learned</h2>
        <p>Doing this whole exercise exposed me to a lot of new mapping concepts such as geocoding, visualisation, route generation as well as some various tools for munging together data.</p>
        <p>I would say I'm glad I didn't give up but more than anything, this project was an open loop in my mind that had finally beaten me, and that will usually always be enough to keep me coming back for more punishment.</p>
        <p>Perhaps the coolest outcome is that because it's visual, you can pop up a project like this on your phone and show people who might think it's cool without necessarily having much background into what's going on.</p>
        <p>It's probably the one category of programming I do that's closest to art in any sense which always helps to keep the perpetual motion machine running.</p>
        <p>I just wish it was easier to come by good ideas!</p>
        <p>Anyway, hopefully you learned something useful reading this post and if you come across any better tools that I could have made use of earlier, please don't hesitate to let me know at <code>hello@utf9k.net</code>.</p>
        <p>Happy mapping!</p>
        <p>[^lgoima]: The Local Government Official Information and Meetings Act can be thought of as an Official Information Act for local city councils. Sometimes, councils will try to get out of their obligations</p>
        ]]>
      </content:encoded>
      <pubDate>Sun, 16 Jul 2023 02:00:00 GMT</pubDate>
    </item>
    <item>
      <title>I don&apos;t identify as anxious</title>
      <link>http://localhost:3000/blog/-i-dont-identify-as-anxious/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-i-dont-identify-as-anxious/</guid>
      <description>Here are some things that have been bothering me</description>
      <content:encoded>
        <![CDATA[<p>This is my <a href="https://apenwarr.ca/log/20171213">epic treatise</a> on the things that have been troubling me for some time now.</p>
        <p>Like all of my most personal blog posts, you can expect this one to be at times flippant, absurd and other big words that I have to Google just to double check that I have the meaning correct.</p>
        <p>Admittedly, I thought I had written something a bit closer to home, as far as mental health but it turns out that my <a href="https://utf9k.net/blog/let-your-streaks-end-naturally">previous attempts</a> were much more abstract than I remember.</p>
        <p>On some level, I write this for myself with the naive thought that I can capture all these feelings in a bottle and discard them, not unlike a <a href="https://oxsci.org/can-a-camera-capture-your-soul/">camera stealing a soul</a>. Perhaps I'll read this in future but really, I take some small comfort that perhaps this will be a useful barrier break for anyone who has a false idea of me in their head.</p>
        <p>Whatever I may have been able to live up to so far, this is hopefully proof enough that &quot;success&quot; by whatever means you define it is built on top of a great deal of well, whatever <em>this</em> is, I don't enjoy it.</p>
        <p>Anyway, that should be enough of a pretentious introduction to shoo away anyone with a short attention span.</p>
        <p>As of late, I have had a handful of panic attacks. I don't think I use that word lightly. The feeling is that my entire body goes nuclear hot, where I'm borderline sweating. I might be shaking physically and usually I end up vomiting just due to the amount of nervous shaking upsets my stomach.</p>
        <p>It's really not very nice! It kinda sucks!</p>
        <p>This has only happened a few times in the past 6 months or so which is actually very rare but there's a bit of a catch.</p>
        <p>From time to time, and today as I write this, I'll catch myself remembering those feelings. It's sort of like a mind virus. You can ever so slightly remember the feeling and then you can start to imagine yourself feeling it again. You feel a light flush. Oh no, it's back isn't it? It was always coming back. It was inevitable.</p>
        <p>These are things that aren't true but the trick that I am still learning is to quieten those voices. I don't even think telling them to go away is the right approach. They're all valid things that are worth accepting while pushing back on the idea that they are set in stone.</p>
        <p>It would perhaps be easy to &quot;think positive&quot; but so much of this all feels like it's subconscious as far as I can tell. Perhaps it's not but I just can't hear the voice that is causing all this. How can I &quot;win&quot; a battle when I can't even see the battlefield or my opponent. Well, again for the me 2 paragraphs ago, it isn't a battle is it.</p>
        <p>These feelings are me and I am these feelings but I don't have to lay down and let them run rampant. It's easier to say that when you have a clear head.</p>
        <p>Perhaps we should go over some specifics:</p>
        <p>I'm 28 as I write this and I assume part of this stems from anxiety about turning 30. Turning 30 itself doesn't scare me but there are all these little things in my head that I think I associate with having &quot;made it&quot;.</p>
        <p>Already this is stupid. I have a good paying job and I'm (allegedly) respected at work. I have minimal to no debt and I can toot my horn about having gone the hard route of not getting a degree. What does making it even mean? I have very little to genuinely worry about each day.</p>
        <p>I got my restricted drivers license (Stage 2 of 3) when I was about 16 but I put off my final test so I haven't driven for like 12 years. Part of me probably feels like I need to resolve all this so I can be self sufficient and all that. Successful people drive don'tcha know.</p>
        <p>I'm single but I've always been happy with my own company. Haven't I? We had a lot of good times right? I never thought I minded but all of a sudden, it can get awfully lonely when you're going through all this. It's scary to live alone and you freak out at night. There's no one around to talk to. Minutes can feel like hours and hours like weeks. Sleeping it all off would be a wonder except your body is primed to the brim with adrenaline so cross that off the list. I got a little teary writing this.</p>
        <p>I can only imagine that these things are all in there somewhere contributing to this troubling period. You'll be great and things are normal but suddenly you remember that you remember that you remember and it's the darkest few hours of your waking existence. Why is this happening again? If I can just find the answer, will it leave me alone?</p>
        <p>The hardest answer, when I think over all the things that frighten me, is that I have to do all of this <em>waves hands</em> for the next 70 years or more. I think that only to rebut myself in the same sentence with &quot;What's so bad about that? There are so many things to see and do!&quot;. It's the feeling of dread persisting at its core, I'm sure.</p>
        <p>I'm not an anxious person? I don't identify as such but factually, that might be correct? I don't know, is it anxiety? It's irrational for sure. It's like I'm scared that I'm scared and I don't know where it starts and ends.</p>
        <p>I thought I'd tackle it normally. I had some more severe bouts that were exponentially worse back when I wrote <a href="https://utf9k.net/blog/ride-the-curve">Ride the Curve</a>. By all accounts, I've almost won, right? The symptoms are a whisper of what they were and the distance between them is ever shorter but when it pops up, I just want to give up.</p>
        <p>Perhaps I'll ask my doctor if I can go back to <a href="https://en.wikipedia.org/wiki/Escitalopram">what helped break me out last time</a>. I don't take any pride in fighting mental illness on hard mode. I don't wish it on anyone.</p>
        <p>I dunno, I'll go about my day and things are great. Great is a strong word. Things are fine. Maybe I need more novelty in my life. It's the remmebering that this whole ordeal exists that opens the door ever so slightly for doubt to creep in. It could happen again so why wouldn't it, right?</p>
        <p>I've been even stronger in reassuring myself that there are so many possibilities and that it's just my brain playing tricks but it's exhausting. Trying to self-monitor your own thoughts is exhausting. Your brain is effectively playing dual roles where you're watching yourself in third person.</p>
        <p>Writing this has made me go up and down a bit where I'm a little jittery but who knows, that could just be the cold that's creeping in and I'm unintentionally feeding the nuclear fire with all these inputs that are unrelated. While things are quiet, I think I'll go to bed early. Napping is great. I wish I had more time this afternoon but I don't want to risk staying up. A thought creeped in that today was going to be one of the very bad ones. Let's hope it isn't true.</p>
        <p>If you read this far, I appreciate the effort. I'm sure I'll be fine in the long run. While all these emotions were fresh, I wanted to capture them down since they're hard to explain. I don't even know if any of this makes sense since I write these sorts of posts off the cuff with no editing.</p>
        ]]>
      </content:encoded>
      <pubDate>Tue, 11 Apr 2023 06:00:00 GMT</pubDate>
    </item>
    <item>
      <title>Miserable presentation tips</title>
      <link>http://localhost:3000/blog/-miserable-presentation-tips/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-miserable-presentation-tips/</guid>
      <description>It works well for me but I don&apos;t recommend it!</description>
      <content:encoded>
        <![CDATA[<p>When the thought of having to give a presentation comes up, my usual reaction is that it might be fun.</p>
        <p>I've given a decent handful of talks over the last few years to medium-ish audiences, with the largest being to around 100 people. For various reasons, the most recent ones have been via video calls but I've done a couple in person and they don't feel that different in hindsight.</p>
        <p>This is where I could start to hock my self help book[^1] and say &quot;Imagine the audience in their underwear&quot; but instead, why not dump out my brain on paper so that you too, for the low low price of $0, can also think about presentations upside down.</p>
        <hr />
        <p>My general threshold for being &quot;comfortable&quot; with giving a talk is about 10 or more people, where I'm kinda awful when it comes to groups greater than 1 person.</p>
        <p>As for why that is, it's easy to imagine in a group of a few people, you stand out a lot more if you aren't say much (or are saying a lot!) with the best way to &quot;hide&quot; being to act normal.</p>
        <p>Why wouldn't the same apply for a group where you're centre stage? It does I'm sure but it's easy to imagine the group as a whole not paying attention to what you're saying.</p>
        <p>It's a safe bet that it's a reflection of my time in school, doing English class speeches where students, myself included, would zone out while someone had to give their presentation, even if it didn't feel like it to the presenter.</p>
        <hr />
        <p>Now, I should be overly clear here and say that this line of thought should not be taken seriously! It can be a useful tool but if you start to genuinely believe no one cares, that becomes dangerous the further you go.</p>
        <p>The reality is that no one would turn up if they weren't interested, or wanting to support your output and you shouldn't doubt it.</p>
        <p>In my mind, I put it in the same category as receiving complements where my initial reaction is to downplay them, partly out of embarrassment from receiving attention and partly because it doesn't happen regularly meaning it's not normalised for me. Feeling that way doesn't make it any less accurate or make you any less deserving of it however!</p>
        <hr />
        <p>Back to our fantasy worldview where we falsely believe no one is paying attention.</p>
        <p>With this in mind, I always try to make sure the talk I'm giving is something I would find interesting myself. In this view of things, I'm the only one hearing myself talk which means I want to make sure I don't get bored of what I have to say.</p>
        <p>Put another way, I try to give a talk that my past self would enjoy.</p>
        <p>Going a step further, you might even imagine that the talk itself is besides the point. It's an artefact that you'll be discarding, with the fun part being the research process. It's like free motivation to look into something that you otherwise wouldn't have found interesting.[^2]</p>
        <p>The main underlying idea is to expect nothing with any response being a positive.</p>
        <p>If you get a positive response, then great!</p>
        <p>If you get a neutral response, you didn't lose (or gain) anything and likely learned a bunch on top of +5 Presentation EXP</p>
        <p>Getting a negative response is unlikely given the vast majority of people don't like confrontation. In the rare event it does happen, it sounds like you made something that compelled someone to have an opinion which is a strange win if you think about it.</p>
        <p>This should all be taken with a large pinch of salt (and therapy?) but used in the right way, it can be a handy story to tell yourself.</p>
        <p>Merely saying &quot;	Don't worry about it&quot; is easy but getting to a place where you can believe it, even for a short while is the hardest part of all.</p>
        <p>[^1]: I haven't read enough self-help books yet to have the motivation to write a self-help book üòõ</p>
        <p>[^2]: I'm assuming here that you've volunteered to give a presentation instead of a boring business thing.</p>
        ]]>
      </content:encoded>
      <pubDate>Sun, 29 Jan 2023 02:24:00 GMT</pubDate>
    </item>
    <item>
      <title>Habit forming in the least efficient way possible</title>
      <link>http://localhost:3000/blog/-inefficient-habit-forming/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-inefficient-habit-forming/</guid>
      <description>Instead of committing to a habit, why not torture yourself over long spans of time?</description>
      <content:encoded>
        <![CDATA[<p>If you were to ask me how good I am at habit forming, I would say &quot;Not very&quot;.</p>
        <p>Looking back over time, there are plenty of routines that I do at present but I wouldn't call them formed habits since they still take some thinking (and remembering) that I should have done them.</p>
        <p>You might say &quot;Well, just put them in your task manager&quot; and that is a very good idea except that would assume that I have successfully formed a habit of checking my task manager religiously.</p>
        <p>It's probably more accurate to say that my worse habits are much stronger and end up eating up the attention I should/would/could be dedicating to things that aren't, I dunno, clearing out Slack notifications or opening Hacker News for the nth time today.</p>
        <p>Now believe it or not, I'm actually here to some good things that might give a little hope to my fellow habit-forming dropouts.</p>
        <hr />
        <p>There are various habits that I've <a href="https://youtu.be/itjmKlYjUak">restarted over and over again</a>, usually with extremely long gaps between them.</p>
        <p>An example might be cleaning my apartment. I should do it daily but historically I might go for quite some time before I get around to it.</p>
        <p>These days I'm down to like once a week or less which is really good and something I probably thought wouldn't be possible but I also never committed to cleaning as some sort of core part of my identity that I'm highly focused on reinforcing.</p>
        <p>I suppose the point here is even if you repeat the same routine over and over, with extremely large gaps between each iteration, you'll probably find that without realising, the feedback loop gets every so slightly shorter, even if it's over the period of literal years.</p>
        <p>This isn't to say you should try to form any habits this way but even if you fret over not picking up a habit you committed to, the act of fretting itself is still reinforcing the habit in some very meandering way.</p>
        ]]>
      </content:encoded>
      <pubDate>Tue, 17 Jan 2023 05:30:00 GMT</pubDate>
    </item>
    <item>
      <title>So you have (or are) competition</title>
      <link>http://localhost:3000/blog/-so-you-have-or-are-competition/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-so-you-have-or-are-competition/</guid>
      <description>A series of questions that I would ask my past self in certain awkward situations</description>
      <content:encoded>
        <![CDATA[<p>{{% notice emoji=&quot;üß™&quot; title=&quot;This post is a sort of weird living document of sorts&quot; %}}
        To be honest, I got kind of lazy towards the end so I'm pushing out what I wrote.</p>
        <p>That said, I also intend to add to the list of bullet points as time goes on.</p>
        <p {%="" notice="" %="">It's the sort of post that is harder to capture the further away you are from the situation in question!</p>
        <p>Generally on this site I have two types of posts: Relatively straight forward technical posts and long-winded, more experimental posts that I would just link to myself in the past if time travel existed.</p>
        <p>This post is heavily one of the latter and it revolved around a certain type of unintentional competition.</p>
        <p>Specifically, it's targeted at an awkward gap at which I, and I'm sure many of us, have fallen into from time to time which I'll define in a moment.</p>
        <p>In particular, these are scenarios I've encountered in a work setting but I suppose they could apply just as equally in any sort of community from friend groups to event committees.</p>
        <p>I wouldn't know but I'll try to keep this whole thing general enough so as to leave it open for your own intepretation.</p>
        <p>I'll probably also make this a &quot;living document&quot; that I add things to as I think of them. It'll be pretty messy.</p>
        <h2>The twin scenarios</h2>
        <p>a) You have just created and launched something into the wild, only to find that someone else in your area is already invested in that problem domain.</p>
        <p>b) Someone else has just created and launched something into the wild, which you have just discovered and you aren't sure how to feel about it</p>
        <p>These two scenarios are the same scenario, just from different angles. Personally, I've both caused Scenario A and felt the effects of Scenario B. I've even experienced both A and B for the same problem domain within the same year, which felt a bit like karma funnily enough!</p>
        <p>These scenarios happen all the time for everything I'm sure and neither side can feel pleasant. Emotions get heated, people get protective of &quot;their&quot; domains that they've invested time into and things can turn a bit sour if they're not evaluated properly with some perspective.</p>
        <p>As with all things emotional, you should step back and think about the bigger picture!</p>
        <p>If you're in that narrow period of time, or just want some tips for next time on how you might deal with it then here are some thoughts you might want to mull over.</p>
        <p>I'm just going to throw out bullet points because</p>
        <p>a) It's quicker and I'm being lazy</p>
        <p>but also</p>
        <p>b) I can't give you the answer.</p>
        <p>It's never an open and shut case, as much as you might want to cite time investment, experience, job titles and all sorts of other things you can reach for.</p>
        <p>Sometimes the best answer is the one that sucks and it hasn't arrived at a good time but there's never really a good time.</p>
        <p>Oh and one last thing: When you invest time and effort into something, it's natural to feel emotional! You can't unlogic yourself out of those feelings and you shouldn't try to.</p>
        <p>If you're not up for the task, don't read these points and beat yourself up by any means. That's not what this is for!</p>
        <p>These are just things to ask yourself in a neutral light. Don't judge yourself for actions that have already passed. It's more about deciding what to do next and what you might do differently next time.</p>
        <h2>I'm experiencing Scenario A</h2>
        <p>So you've just created something and you've been informed that your idea already exists in some other form.</p>
        <ul>
        <li>How was the reaction that you received?</li>
        <li>Was it welcoming to a newcomer into that space?
        <ul>
        <li>If yes, great!</li>
        <li>If no, that's not very nice
        <ul>
        <li>Why is that? Does this happen a lot?
        <ul>
        <li>If yes, that sounds like a them problem right? Something keeps going wrong that people arrive at the conclusion that they need to start from scratch</li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        <h2>I'm experiencing B</h2>
        <p>So you've have or are actively creating something and you've been informed that someone has just stepped into your problem domain.</p>
        <ul>
        <li>How are you feeling about this news right now?
        <ul>
        <li>Are you excited for some new competition, regardless of whether you agree with the approach?
        <ul>
        <li>If yes, great, that sounds healthy</li>
        <li>If no, why is that?
        <ul>
        <li>Do you feel that it doesn't compare in terms of quality to your work?
        <ul>
        <li>If yes, why does that matter?
        <ul>
        <li>Does a new offering existing somehow take away from your work?</li>
        </ul>
        </li>
        </ul>
        </li>
        <li>Is your work able to stand on its own merits?
        <ul>
        <li>If no, should it exist if it can't support itself and needs ie; political cover to stay alive?</li>
        <li>Do you feel that people don't appreciate it fully?
        <ul>
        <li>Do you have solid documentation and announcements that people can discover on their own time?</li>
        <li>If your approach communicated clearly?</li>
        <li>Is the problem space too deep in the weeds for people who are not domain experts to &quot;get it&quot;?
        <ul>
        <li>Can you considered making use of metaphors, or just general storytelling to help bridge the communication gap</li>
        </ul>
        </li>
        <li>Has enough time actually passed for people to &quot;have time&quot; to learn about your offering and to &quot;get it&quot;?</li>
        <li>Have you actually talked to anyone about your problem area?
        <ul>
        <li>How do you know that this problem area is actually a problem?</li>
        <li>Do other people see this problem area as being a problem?</li>
        <li>Do other people have this problem enough to &quot;feel&quot; that it is a problem?</li>
        <li>Is the length of the problem only felt in short enough bursts that others are not motivated enough to seek out a solution?</li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        <li>Did you feel an emotion reaction to this news?
        <ul>
        <li>If yes, why is that?
        <ul>
        <li>Do you consider yourself to be an expert in this particular domain?</li>
        <li>Do you spend a lot of time working in this particular domain?</li>
        <li>Is this particular domain just one that you spend time in or your core one?</li>
        <li>If you felt an overwhelming emotion reaction, is your identity and sense of self worth tied into this domain?
        <ul>
        <li>Should it be? Maybe it is more than you realise?</li>
        <li>Do you feel that you could walk away from this problem domain and not feel a great loss?
        <ul>
        <li>Do you need to diversity your identity a bit more and find some different hobbies?</li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        </li>
        </ul>
        ]]>
      </content:encoded>
      <pubDate>Sat, 22 Oct 2022 09:00:00 GMT</pubDate>
    </item>
    <item>
      <title>Sampling all the way down</title>
      <link>http://localhost:3000/blog/-sampling-all-the-way-down/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-sampling-all-the-way-down/</guid>
      <description>In which we take a brief tour in all the ways that metrics may not accurately capture reality</description>
      <content:encoded>
        <![CDATA[<p>Recently, I was chatting with a coworker about the accuracy of tracing. In particular, we were discussing <a href="https://docs.datadoghq.com/tracing/">Datadog APM</a> but the same discussion probably applies equally to <a href="https://opentelemetry.io/">OpenTelemetry</a> as well as other SaaS provider implementations.</p>
        <p>To be clear, when I say accuracy here, I don't mean the accuracy of what each trace is presenting. The overall picture is more than accurate enough but I would argue that it will never 100% reflect reality, nor is that necessarily something valuable to obtain.</p>
        <p>I thought it might be interesting, both for my own future reference but also just as a general discussion to go through some of the various ways that tracing may not reflect reality in its entirety.</p>
        <p><img src="https://datadog-docs.imgix.net/images/tracing/apm_lifecycle/apm_lifecycle_0.c5017c20b222d73a29b5a1a223f83eb4.png?auto=format" alt="A diagram showing various parts of the Datadog ingestion pipeline. The screenshot is just meant to reflect the sprawl of different bits involved in the pipeline. The actual elements of the pipeline itself aren't so important for this image."></p>
        <h2>The outer wall</h2>
        <p>First of all, there are surely some portion of requests that will never reach your servers in the first place.</p>
        <p>There are probably not a lot in accurate but you might imagine various scenarios like someone attempting to visit your website only for their ISP's DNS server to throw a fit, or someone browsing on a train only for their connection to get temporarily blackholed as they pass through a concrete tunnel.</p>
        <p>These requests won't even reach you so they won't even show up in your tracing.</p>
        <h2>Application sampling</h2>
        <p><img src="http://localhost:3000/blog/-sampling-all-the-way-down/apps.jpg" alt="A version of the Datadog ingestion pipeline, with a section titled Your instrumented apps being selected. It reflects the part of the pipeline we are going to discuss in this section."></p>
        <p>So we've got requests hitting our application so we capture 100% of those requests as traces and life is easy right?</p>
        <p>If only it were so easy.</p>
        <p>By default, your service will save <a href="https://docs.datadoghq.com/tracing/trace_pipeline/ingestion_mechanisms/?tab=go#in-tracing-libraries-user-defined-rules">100 traces per second</a> unless you explicitly set an override.</p>
        <p>Datadog does recommend setting a sample rate of 100%, as you're only charged for traces indexed and retained beyond the initial 15 minute ingestion window.</p>
        <p>You may also have cases where code within your application could be <a href="https://docs.datadoghq.com/tracing/trace_pipeline/ingestion_mechanisms/?tab=go#force-keep-and-drop">explicitly causing traces to be discarded</a> if they're not useful. The inverse is true with retaining specific traces as well.</p>
        <p>The above also assumes that your application is configured properly as well to ensure those traces aren't being emitted into a black hole.</p>
        <h2>Agent sampling</h2>
        <p><img src="http://localhost:3000/blog/-sampling-all-the-way-down/apps.jpg" alt="The same Datadog ingestion pipeline shown in the previous image with no changes."></p>
        <p>Now we go a level high to the process that receives all of your traces.</p>
        <p>It has its <a href="https://docs.datadoghq.com/tracing/trace_pipeline/ingestion_mechanisms/?tab=go#in-the-agent">own sampling</a> which will only retain ~10 traces/second per agent instance. It's worth noting that this is overridden by setting your application sample rate explicitly but if you haven't, you'll be seeing a portion of reality.</p>
        <p>You might also get rate limited, causing traces to probably be discarded, if you have <a href="https://github.com/DataDog/datadog-agent/blob/main/pkg/config/config_template.yaml#L1152">too many services connecting to a single agent</a>, <a href="https://github.com/DataDog/datadog-agent/blob/main/pkg/config/config_template.yaml#L1082">your agent is using too much memory</a> or <a href="https://github.com/DataDog/datadog-agent/blob/main/pkg/config/config_template.yaml#L1091">your agent is using too much CPU</a>.</p>
        <p><img src="https://datadog-docs.imgix.net/images/tracing/trace_indexing_and_ingestion/service_traffic_breakdown.a0e421f3503064b7d03f1c3683a67fc4.png?auto=format" alt="A screenshot of the Datadog service ingestion screen showing a service that has &lt;0.1% of traces sampled due to agent CPU or RAM usage"></p>
        <p>On top of all this, there's further sampling beyond the &quot;10 traces/second&quot; which is a <a href="https://docs.datadoghq.com/tracing/troubleshooting/agent_rate_limits/#maximum-events-per-second-limit">max of 200 trace events per second</a>. What is a trace event versus a trace you ask? I have no idea!</p>
        <p>You should probably also disable the <a href="https://github.com/DataDog/datadog-agent/blob/main/pkg/config/config_template.yaml#L1068">error sampler</a> so it doesn't impact your picture of reality too for maximum accuracy.</p>
        <p>Once again, this too assumes that all of your agent instances are properly configured and aren't dropping traces off a cliff or else you'll be missing a portion of reality.</p>
        <h2>Ingestion Sampling</h2>
        <p><img src="https://datadog-docs.imgix.net/images/tracing/apm_lifecycle/ingestion_sampling_rules.664739c275df2d563b782552d467422e.png?auto=format" alt="A version of the Datadog ingestion pipeline, with a section titled Ingestion sampling rules being selected. It reflects the part of the pipeline we are going to discuss in this section."></p>
        <p>Oh, you thought we were done? We're just getting started because we've got more things to toggle.</p>
        <p>So you've configured your application and agent perfectly but you're still not perfectly reflecting reality. <a href="https://docs.datadoghq.com/tracing/trace_pipeline/ingestion_controls/#service-ingestion-summary">Did you know upstream services can decide whether traces involving your service are discarded or retained?</a>.</p>
        <p><img src="https://datadog-docs.imgix.net/images/tracing/trace_indexing_and_ingestion/service_ingestion_summary.fd43c5c59b2c9273cd84e8467b958194.png?auto=format" alt="A screenshot of the Service Ingestion Summary screen showing a service. Visible to the right side are all of the upstream services that have influence on the displayed services trace sampling decisions."></p>
        <p>You should probably go talk to your coworkers who maintain upstream services and argue the case for never sampling a single trace. Depending on who controls the credit card, it may not be quite as compelling when considering the huge bill that may be involved.</p>
        <h2>Retention Filters</h2>
        <p><img src="https://datadog-docs.imgix.net/images/tracing/apm_lifecycle/retention_filters.5e6f2b4eedbe790caf41a7e090048deb.png?auto=format" alt="A version of the Datadog ingestion pipeline, with a section titled Retention filters being selected. It reflects the part of the pipeline we are going to discuss in this section."></p>
        <p>Ok, we're nearly through the gauntlet because all we've got left are retention filters.</p>
        <p>So, let's say that your application sends 100% of traces to Datadog and never gets sampled along the way. That just means your traces are 100% visible for a mere 15 minutes before more sampling kicks in.</p>
        <p>Retention filters are the final boss here, where by default, Datadog maintains all errors (across a diverse range of errors codes) and a handful of successful traces based on their latencies, status codes and so on.</p>
        <p>Now you could simply mark all traces as being retained beyond that 15 minute window but I hope you're ready to re-mortgage your house to afford it because indexing ain't cheap, beyond the defaults chosen by Datadog themselves.</p>
        <p>You also need to ensure that no one else has set up any retention filters that might sample your application in any way so fire up those access control policies.</p>
        <p>Assuming you're a rich lister however, you've made it to the end... right? All is right with the world and we have a perfectly perfect view of the world.</p>
        <h2>The Secret Hidden Boss</h2>
        <p>Even if you have every single trace ever generated, perfection is still out of reach because the insights into our traces themselves may be skewed, short of our combing through all of the data outselves which is likely not possible at scale.</p>
        <p>To understand more, we need to briefly talk about <a href="https://arxiv.org/pdf/1908.10693.pdf">DDSketch</a> which is Datadog's &quot;sketching&quot; algorithm.</p>
        <p>I hadn't heard of the term before but just as a sketch in drawing is an approximation of a fleshed out drawing, a sketch in computer science is an approximation of some set of data.</p>
        <p>The sketch is not a full accurate set of all existing data points but as an approximation, we can infer things that are roughly true about the source data.</p>
        <p>For example, let's say our true data set contains 1 million values and the data set is effectively a random sampling.</p>
        <p>We can take a sample of 1000 values from our source data set and in most cases, the median value within our sample is likely to be about the same as it is in our source data set.</p>
        <p>While it may not be 100% precise, depending on our use case, it's probably good enough without the overhead of having to process the full dataset.</p>
        <p>Where this doesn't work however is with quantiles, or percentiles.</p>
        <p>Let's say we wanted to find the maximum value in our 1 million data points. You could just iterate through all of them and keep track of the highest value you've seen. There's no need to keep every data point in memory, just the current value you're looking at and the highest value you've seen so far.</p>
        <p>What about finding the 99% percentile? Well, we need to retain all of the values we've seen so far in order to continually compare values we're seeing against our 1% grouping and further comparing that to our full dataset to ensure that we're adding and removing the right values.</p>
        <p>Such a thing would get quite expensive which is where sketching comes in and it's what Datadog does to your data.</p>
        <p>Rather than perfectly calculating percentiles down to the very last decimal place, traces can be &quot;bucketed&quot; into rounded that are near enough to capture what they represent but we only need to store the bucket values and not every single value that is allocated to a bucket.</p>
        <p><img src="https://imgix.datadoghq.com/img/blog/engineering/computing-accurate-percentiles-with-ddsketch/ddsketch_diagram_6_190911.png?auto=format&amp;fit=max&amp;w=847&amp;dpr=2" alt="A screenshot showing latency buckets. There are three labelled 100 milliseconds, 102 milliseconds and 104 milliseconds. Traces that a few decimal places outside of each bucket are sampled into their closest buckets. For example, a trace that took 104.4 milliseconds is sampled into the 104 millisecond bucket."></p>
        <p>That is effectively the sketch in question and you can read more about the entire process <a href="https://www.datadoghq.com/blog/engineering/computing-accurate-percentiles-with-ddsketch/">in this blog post</a>.</p>
        <p>Suffice to say, even if you did manage to capture all traces, the insights you're getting from them have likely been skewed from reality ever so slightly through the sketching process so you'll never win unless you handle each trace yourself.</p>
        <h2>It doesn't matter in the end</h2>
        <p>More than anything, this post is partly a technical guide but mostly fun exercise with the end of goal of saying &quot;Who cares&quot;.</p>
        <p>I'm a big fan of the short story <a href="https://en.wikipedia.org/wiki/On_Exactitude_in_Science">On Exactitude in Science</a>. It's a short story about a kingdom who become so good at map making that they make the most accurate map.</p>
        <p>The problem is that it's 1:1 scale with the kingdom itself in order to capture it in perfect detail. Such a map may be precise but it's so detailed and unwieldy as to be useless.</p>
        <p>I'm a big advocate of the same idea in software.</p>
        <p>Partly so I can be lazy but also because beyond a certain point, true accuracy doesn't really matter.</p>
        <p>What you want is just enough detail to know that things are happening but further detail is just diminshing returns.</p>
        <p>Let's say that you want to reflect rate limits for a particular customer.</p>
        <p>Does it really matter whether they're being rate limited 5 times per day or 1000 times per day?</p>
        <p>Beyond a certain point, the damage is already done and they're having a bad time so knowing the true extent doesn't really change the facts of the situation.</p>
        <p>It can be interesting to know for sure and you might want to know but there is probably no such thing as a truly accurate value, whether it's tracing, logs or something else.</p>
        <p>You're probably better off just getting something good enough and then having a nap or investing that time into other improvements.</p>
        ]]>
      </content:encoded>
      <pubDate>Mon, 08 Aug 2022 06:00:00 GMT</pubDate>
    </item>
    <item>
      <title>Do demo iPads have a canonical owner?</title>
      <link>http://localhost:3000/blog/-ipad-canonical-owner/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-ipad-canonical-owner/</guid>
      <description>In which we investigate whether the demo content loaded onto iPads is owned a single fictional person</description>
      <content:encoded>
        <![CDATA[<p>A few years ago, I ordered a 4th generation Apple iPad Air and the store I purchased it from accidentally sent me a demo unit.</p>
        <p>It was a fully working iPad but it came preloaded with a number of dummy items such as a five calendars, a handful of documents and acres of photos.</p>
        <p>You can see these in any store but generally, you never get a chance to spend any length of time with them so making the most of this opportunity, I took a full backup of the device before resetting it.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/storedisplay.jpg" alt="A photo of an iPad Pro set up for display inside of a Noel Leeming store. Visible on the iPad is the Photos app set to the time period spanning 17 - 25th July 2019"></p>
        <p>A few days later, the store got in contact with me and requested that I return it back to them since it wasn't meant to be dispatched. They didn't have any other units on hand so I ended up getting a refund instead.</p>
        <p>Anyway, I figured it might be of some interest to someone so I <a href="https://archive.org/details/i-pad-demo-backup">uploaded a copy of the demo materials to the Internet Archive</a> and never got around to doing anything more until now.</p>
        <p>Something that I had wondered was if any of the content in the device was actually intertwined or if it was just a random helping of documents.</p>
        <p>The short answer is that it is mostly just random items but each category of item tends to have been created from the point of view of a single person which is kind of neat.</p>
        <p>I'll be doing a brief rundown of what I found and what I could infer from the demo content about each fictional person as best as I can.</p>
        <p>Some of the data is meaningless outside of the demo unit such as Photos which were grouped such as two images that were under the &quot;Selfies&quot; category but I can't recreate that information with the photos themselves so this post can't be as extensive as it could have been but ah well, I mainly want to get this post off of my project backlog once and for all!</p>
        <h2>Calendars</h2>
        <p>We'll start with the juiciest of all the categories first since the rest are fairly light on detail. We can infer quite a bit from the calendar from the various locations attached to events.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/calendar.jpg" alt="A screenshot of the macOS Calendar app visible on the author's computer. 11 events are visible across five different calendars."></p>
        <p>Loaded onto the demo unit were 5 calendars which are available as <a href="https://en.wikipedia.org/wiki/ICalendar">ICS</a> exports for browsing with any Calendar client.</p>
        <p>As far as I can tell, the calendar events consist entirely of recurring events which makes sense for a demo unit which may sit around for a number of years.</p>
        <p>The five calendars available are called <code>Kids</code>, <code>Personal</code>, <code>Recreation</code>, <code>Training</code> and <code>Work</code>.</p>
        <p>I'll mention in advance that a number of locations are mentioned in the calendar entries which are mostly real places around California so I dig into those a little bit.</p>
        <p>We'll work through them in order:</p>
        <h3>Kids</h3>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/kids.jpg" alt="A screenshot of the macOS Calendar app visible on the author's computer. The Kids calendar is selected."></p>
        <p>There are only 3 events on the kids calendar which are as follows:</p>
        <ul>
        <li>Adam's Piano lesson from 3:30pm - 4:30pm every Tuesday</li>
        <li>Ellie's Soccer Game from 6:00pm - 8:00pm every Wednesday</li>
        <li>Adam's Soccer Game from 11:00am - 2:00pm on every 5th Saturday</li>
        </ul>
        <p>We can infer that this person has two kids: Adam and Ellie. Both play Soccer and Adam plays the piano.</p>
        <p>The description for <code>Ellie's Soccer Game</code> mentioned <code>At Mount Tiburon High School - back field on the left.</code> in the description for the event but as far as I can tell, there isn't a Mount Tiburon High School.</p>
        <p><a href="https://en.wikipedia.org/wiki/Tiburon,_California">Tiburon</a> is a real town in California that has a Mount Tiburon Road but no high school.</p>
        <p>Interestingly, Tiburon is apparently home to <a href="https://en.wikipedia.org/wiki/Tiburon,_California#Schools">St. Hilary School</a> which is an <a href="https://www.apple.com/nz/education/k12/apple-distinguished-schools/">Apple Distinguished School</a> but it's probably a coincidence.</p>
        <h3>Personal</h3>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/personal.jpg" alt="A screenshot of the macOS Calendar app visible on the author's computer. The Personal calendar is selected."></p>
        <p>This calendar is home to a few generic events such as &quot;Pay Bills&quot; and &quot;Doctor's Appointment&quot;.</p>
        <p>There are a number of lunch and coffee catchups and they tend to be at real places:</p>
        <ul>
        <li>Lunch with Pablo at <a href="https://www.michaelmina.net/restaurants/">Michael Mina</a> every 2 weeks</li>
        <li>Lunch with Becky at <a href="https://yanksing.com/">Yank Sing</a> every 7 weeks</li>
        <li>Lunch with Mum at <a href="https://hoodline.com/2017/09/french-bistro-south-park-cafe-to-bid-adieu/">Bistro - South Park</a> every 4 weeks</li>
        </ul>
        <p>There are some other catchups but none of them feature any locations</p>
        <h3>Recreation</h3>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/recreation.jpg" alt="A screenshot of the macOS Calendar app visible on the author's computer. The Recreation calendar is selected."></p>
        <p>This calendar is what it says on the tin and features a number of locations as well:</p>
        <ul>
        <li>Lunch with Lucy at <a href="https://yanksing.com/">Yank Sing</a> every 3 weeks</li>
        <li>Bowling at Biltmore Lanes every month.
        <ul>
        <li>I couldn't find any information on Biltmore Lanes if that's a real place.</li>
        </ul>
        </li>
        <li>Neighbourhood Council at Community Centre on the 4th month of every Sunday
        <ul>
        <li>The community centre in question is not named but perhaps you could triangulate one by cross-referencing the locations the calendar owner visits?</li>
        </ul>
        </li>
        <li>Yoga at <a href="https://2ndstreetgym.com/">2nd Street Gym</a> every 3 weeks</li>
        <li>Brunch with Mindy at <a href="https://www.zaziesf.com/">Zazie</a> on the 1st Sunday of every month</li>
        <li>Tennis with Katy at the 4th Street Courts every 3 weeks</li>
        </ul>
        <h3>Training</h3>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/training.jpg" alt="A screenshot of the macOS Calendar app visible on the author's computer. The Training calendar is selected."></p>
        <p>I expected this calendar to be full of gym sessions but instead it's a work calendar.</p>
        <p>I'm not sure who the training is in reference to, or if this calendar is even accurately named since it seems like a bunch of business meetings more than anything.</p>
        <p>We've got the following events:</p>
        <ul>
        <li>Design Team Staff Meeting: &quot;To review designs for this week's exec meetng and discuss remaining designs needed.&quot;</li>
        <li>Review Graphic Design</li>
        <li>Review Presentation with Susan</li>
        <li>Project Planning Meeting: &quot;To discuss project plan and review milestones and deliverables&quot;</li>
        </ul>
        <p>None of this appears to be training unless it's training for design team members perhaps?</p>
        <p>From this, we can infer that this person is perhaps some sort of product manager?</p>
        <h3>Work</h3>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/work.jpg" alt="A screenshot of the macOS Calendar app visible on the author's computer. The Work calendar is selected."></p>
        <p>This is definitely the fullest calendar with a number of business meetings and catchups.</p>
        <p>We've got the following:</p>
        <ul>
        <li>Weekly Team Meeting: &quot;To discuss project status and deliverables. Please bring status on each deliverable due this week.&quot;</li>
        <li>Conference Call with Exec Team</li>
        <li>Budget Review: &quot;To review budget plans for upcoming projects&quot;</li>
        <li>Design Review</li>
        <li>Team meeting</li>
        <li>Contract Review with Allison</li>
        <li>Executive Briefing</li>
        <li>Expense Review: &quot;To review this expenses to date and discuss plans for the next phase of the project.&quot;</li>
        <li>Meeting with Sales Team</li>
        </ul>
        <p>It's all very generic as to what this person's role is but of course, this is all stuff designed to be glanced at for a couple of seconds if at all.</p>
        <p>There's also a monthly entry for &quot;Pancake Breakfast&quot; at &quot;St. Mary's&quot; but I couldn't find any such place in the <a href="https://en.wikipedia.org/wiki/San_Francisco_Bay_Area">Bay Area</a>.</p>
        <h2>Contacts</h2>
        <p>There are 238 contact entries provided in two formats: <a href="https://en.wikipedia.org/wiki/VCard">VCF</a> and <a href="https://fileinfo.com/extension/abbu">ABBU</a></p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/contacts.jpg" alt="A screenshot of the macOS Contacts app visible on the author's computer. A contact entry for Shota Aoyagi is selected. They have an iCloud email and allegedly live in Rochester, New York. Their contact card has a stock photo."></p>
        <p>The vast majority of contacts have addressed all across the United States of America with a handful that have addresses in Australia.</p>
        <p>Given I live in New Zealand, I'm guessing that demo units have a handful of regionalised entries.</p>
        <p>I couldn't determine any link between the contact entries and other categories ie; no one from the Contacts list appears in any of the Calendar entries or in the Summer Garden Party attendee list that we'll be covering later on.</p>
        <p>That said, I did google a number of the names and they all appear to be Apple employees in some capacity but with stock avatars and made up contact details of course.</p>
        <h2>Notes</h2>
        <p>These were loaded as <a href="https://en.wikipedia.org/wiki/Notes_(Apple)">Apple Notes</a> but there's no standard format so they were all exported as PDFs. They're mostly intact but some formatting got mangled in the process.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/notes.jpg" alt="A screenshot of the macOS Preview app showing a PDF. The PDF is an exported Apple Note showing a sketch for a treehouse. The note is titled &quot;Jake's treehouse!!&quot;"></p>
        <p>There's a note for <code>After-school activities for Jake</code> containing a checklist of sports so presumably this person is helping their son to decide on a sport. Interestingly, one of the entries is &quot;Footy&quot; which is a slang term for <a href="https://en.wikipedia.org/wiki/Australian_rules_football">Australian rules football</a> so I guess this note is localised a little bit.</p>
        <p>It seems this person is building a back porch based on the <code>Back porch dimensions</code> note with another title <code>Garden proposal from our architect</code> which details where to lay out plants around their &quot;back patio&quot;. I would note that porch isn't really a term used in <a href="https://en.wikipedia.org/wiki/Oceania">Oceania</a>.</p>
        <p>Keeping with the renovation theme, we also have notes for <code>Trees/Plants for front garden</code>, <code>Things to do for salsa garden</code>, <code>New dishwasher options</code>, <code>Living room remodel ideas</code>, <code>Kitchen</code> (renovation) and <code>Get at hardware store</code>.</p>
        <p>While I noted before about the mention of &quot;Footy&quot;, there are a few holiday planning notes that are all in America. The note <code>Ideas for US reunion w/ Dave and crew</code> has an entry for New York City that reads as follows:</p>
        <blockquote>
        <p>We all met here and we all love this city, but maybe not the best choice for a week of catching up over old times.</p>
        </blockquote>
        <p>The use of the term &quot;this&quot; implies that the person writing these notes currently lives in New York City but a few notes contradict this idea because they feature measurements in centimetres. America is one of the few countries that <a href="https://en.wikipedia.org/wiki/United_States_customary_units">doesn't make use of the metric system</a> so this doesn't quite add up.</p>
        <p>A few holiday notes seem to center around California which definitely lines up with the general Apple-adjacent locations that appear through the demo unit.</p>
        <p>A note titled <code>Soccer practise times</code>[^1] contains practice times for Zoe and Ella who, in addition to Jake, are presumably the three children of the author of these notes.</p>
        <p>The practice times mentioned take place at <a href="https://www.santaritaschool.org/santaritaes/6993-Address-Directions.html">Santa Rita School</a>, <a href="https://www.covingtonschool.org/ces/4740-About.html">Covington School</a> and <a href="https://www.losaltosca.gov/recreation/page/rosita-park">Rosita Park</a> which are all real places in <a href="https://www.losaltosca.gov/">Los Altos, California</a>.</p>
        <p>If you check on a map, Los Altos is a short drive from Cupertino, which is home to <a href="https://en.wikipedia.org/wiki/Apple_Park">Apple's donut headquarters</a>.</p>
        <p>Beyond the above, most of the notes don't really tell us much about the author besides the fact that they have three kids it appears.</p>
        <h2>Numbers</h2>
        <p>There is a planning spreadsheet for a Summer Garden Party available as a <a href="https://en.wikipedia.org/wiki/Numbers_(spreadsheet)">Numbers</a> file.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/numbers.jpg" alt="A screenshot of the macOS Preview app displaying a preview of a Number spreadsheet. Visible is a planning document for a garden party which lists a number of hosts and guests. A number of tasks are planned to be done between June and July. There are 4 sheets in total."></p>
        <p>There isn't much to say about this other than it's a planning document for a party. I cross-referenced the names with the Contacts entries and while there were some shared names, I don't think they were the same people.</p>
        <p>One thing I was able to infer was from a section on the &quot;Budget&quot; sheet titled &quot;Useful Contacts&quot;.</p>
        <p>It lists a number of party-related businesses such as &quot;Joe the Juggler&quot; and &quot;True Cook&quot; catering. All of the phone numbers feature area codes from around the New York area.</p>
        <h2>Pages</h2>
        <p>This is a document on the <a href="https://en.wikipedia.org/wiki/Leaning_Tower_of_Pisa">Leaning Tower of Pisa</a> created with <a href="https://en.wikipedia.org/wiki/Pages_(word_processor)">Pages</a>. It's available as a <code>.pages</code> file as well as a PDF export.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/pages.jpg" alt="A screenshot of the macOS Preview app displaying a preview of a Pages document. Visible is a page about the Leaning Tower of Pisa. It talks about the history of the tower and how it wasn't always leaning."></p>
        <p>It appears to be a school report since it's relatively accessible and light on details. The cover page says that it's by &quot;Mariana Lin&quot;.</p>
        <p>There is a &quot;Mariana Lin&quot; in the Contacts list but I can't say whether there's any relation since we know that the names features don't align with the contact details, being Apple employees.</p>
        <h2>Slides</h2>
        <p>This is a presentation on <a href="https://en.wikipedia.org/wiki/Yellowstone_National_Park">Yellowstone National Park</a> created with <a href="https://en.wikipedia.org/wiki/Keynote_(presentation_software)">Keynote</a> and available as a <code>.key</code> file.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/slides.jpg" alt="A screenshot of the macOS Preview app displaying a preview of a Keynote slide. Visible is a picture of Old Faithful, a geyser at Yellowstone National Park. The slide talks about what makes geysers spew water."></p>
        <p>The presentation is attributed to Jamie Wong, Lauren Kerr and Greg Novick, none of whom appear in the Contacts listing.</p>
        <p>I assume it's also meant to be a school presentation as it's pretty light on detail. I didn't check if there are any presenter notes but I'm guessing there probably aren't.</p>
        <p>Interestingly, running <a href="https://en.wikipedia.org/wiki/Strings_(Unix)"><code>strings</code></a> across the file throws up a reference to <code>Data/GettyImages-451901451-8851.mov</code> so it might include a video which would explain the beefy 236.5MB file size. I couldn't tell where it features from using Preview and I don't currently have Keynote installed.</p>
        <h2>Maps</h2>
        <p>The installed version of Apple Maps contained 25 locations saved which were exported as a <a href="https://fileinfo.com/extension/webloc">webloc</a> file that can be imported into Apple Maps.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/maps.jpg" alt="A screenshot of the macOS Maps app. A map collection titled &quot;iPad Demo Unit Places&quot; is selected on the right. Visible in the main window is North America which depicts a number of bookmarked locations."></p>
        <p>You can actually view all of the locations on the web <a href="https://guides.apple.com/?ug=CglNeSBQbGFjZXMSDgiuTRCvqe7D1Ny%2B0c8BEg0Irk0Qz%2FvZ4ZWbx9tBEg4Irk0Q07KFg%2F%2FQ%2BrnQARIOCK5NEMeAvZu8zOeUtwESDQiuTRDI4rigp6nsmwoSDgiuTRDo%2Fqe%2FvObuqOkBEg0Irk0Q5K%2FmsO64yJlxEg0Irk0Q8ayI64Pohv4OEg0Irk0Q09rW7Kq%2BiJhkEg4Irk0Q4IWIktWzuN%2FrARIOCK5NEN%2FqnrONnc3%2FtQESDQiuTRDDnK%2Ffxefylm4SDgiuTRDO%2BLmCgoX4hIkBEg0Irk0QlqLPz%2B%2FCqu8kEg4Irk0Qxqnl%2FNTUhb3KARINCK5NEOjYh9WIyM7IQBINCK5NEMWgq%2BbIqN%2FzBBINCK5NELWBwaT3lZ7lFRINCK5NEOa0h4ye9qb3IhIOCK5NEL3vkc6h0JrS4wESDQiuTRCJidXtgZHQ4gQSDgiuTRCl45zH%2F5%2BYqfwBEg0Irk0Qs6KWyKqUs94NEg0Irk0Qy47O5vuQt5BgEg4Irk0Q8tnK55HulOvfARIOCK5NELKK3MOW3YeIhgE%3D">here</a> which is the link contained by the <code>webloc</code> file.</p>
        <h2>Photos</h2>
        <p>As mentioned at the start, there are a great deal of photos but a lot of useful metadata requires them to be loaded into Photos.</p>
        <p><img src="http://localhost:3000/blog/-ipad-canonical-owner/photos.jpg" alt="A screenshot of the macOS Finder app. Visible is a photo of a dog with metadata about the photo visible on the right side."></p>
        <p>They all have their original metadata which is interesting since there are a range of iOS devices used to take photos, not that I could ever take photos that nice with my own phone.</p>
        <p>There are 437 photos in total although upon a quick skim, there are actually a couple of <a href="https://en.wikipedia.org/wiki/QuickTime_File_Format">mov</a> videos as well.</p>
        <h2>Conclusion</h2>
        <p>Overall, this post wasn't particularly interesting to create but I figure it's useful to capture since the odds of getting a demo unit are probably not that great.</p>
        <p>Each category of file tends to have been created from the point of view of a single person so it'd be interesting to know how much detail went into determining each persona in order to inform what the content should look like.</p>
        <p>I also wonder what team would be in charge of preloading fake content onto a device. I guess it would fall into the realm of marketing?</p>
        <p>That'd be kind funny telling your parents like &quot;Yeah, I make fake content for iPads&quot; or something.</p>
        <p>Anyway, as mentioned, I'm glad to finally cross this project off my list and delete these files from my desktop so they'll stop judging me.</p>
        <p>Once again, you can download all of the files referenced in this post <a href="https://archive.org/details/i-pad-demo-backup">over on the Internet Archive</a>.</p>
        <p>Enjoy!</p>
        <p>[^1]: The typo is part of the title</p>
        ]]>
      </content:encoded>
      <pubDate>Fri, 03 Jun 2022 10:35:00 GMT</pubDate>
    </item>
    <item>
      <title>Using Fastmail with CalDAV libraries</title>
      <link>http://localhost:3000/blog/-fastmail-caldav/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-fastmail-caldav/</guid>
      <description>A guide to using Fastmail with CalDAV libraries which are often fiddly and struggle to find your calendars</description>
      <content:encoded>
        <![CDATA[<p>I've been a subscriber to <a href="https://fastmail.com/">Fastmail</a> now for probably a good five years at least, if not more at this point.</p>
        <p>It's a really nice service, not just for email but also email and contact hosting and for most clients, it all basically works out of the box as you might hope.</p>
        <p>A number of services that integration with calendars tend to only offer <a href="https://en.wikipedia.org/wiki/Google_Calendar">Google Calendar</a> integration but thankfully CalDAV integration pops up from time to time.</p>
        <p>One thing that I think can be a little bit confusing for people is the Fastmail documentation.</p>
        <p>If we visit the <a href="https://www.fastmail.help/hc/en-us/articles/1500000278342-Server-names-and-ports#calendar">Server names and ports</a> page, it mentions <code>https://caldav.fastmail.com/</code> as the default server for clients with auto-discovery with <a href="https://www.fastmail.help/hc/en-us/articles/360058752834">a support page</a> for other clients.</p>
        <p>That's perfectly correct but a number of CalDAV libraries I've seen around the place tend to complain about that base URL.</p>
        <p>Most recently, I ran into this with <a href="https://github.com/davish/obsidian-full-calendar/issues/87">obsidian-full-calendar</a> where Fastmail integration was considered not working but really, the wrong server name was being used.</p>
        <p>If <code>https://caldav.fastmail.com/</code> doesn't work, odds are you'll get what you're after by using the following server name:</p>
        <pre><code class="language-text">https://caldav.fastmail.com/dav/principals/user/user@example.com/
        </code></pre>
        <p><em><strong>user@example.com</strong> is the email address that you use for Fastmail.</em></p>
        <p>You can confirm that by navigating to your Fastmail inbox and seeing what address in the top left corner if you really need to.</p>
        <p>Alternatively, you could also navigate to <code>Settings</code> ‚Üí <code>Calendars</code> ‚Üí <code>Export</code> (on one of the calendars) and copy most of the section from <code>CalDAV URL</code>.</p>
        <p><img src="http://localhost:3000/blog/-fastmail-caldav/calendar-settings.png" alt="A screenshot of the author's Fastmail account, showing the Settings page. The Calendars tab is highlighted in the left sidebar. Three calendars are visible in the background with a modal open in the foreground. The modal has two sections: One deals with exporting a calendar. The other has a text box with the CalDAV URL for the selected calendar. An arrow is pointing to the text box. The contents of the textbox is highlighted up to the end of the segment containing the author's email. The ID at the end is not selected although this is not visible as it is blurred out."></p>
        <p>Putting the whole URL will only load one calendar but odds are, whatever CalDAV client you're struggling with will load all of your calendars by removing the calendar ID at the end.</p>
        <p>Why does this work exactly? Well, I'm no expert here but I gave a brief overview of my understanding by way of <a href="https://github.com/davish/obsidian-full-calendar/pull/106#issuecomment-1120536933">this Github comment</a>.</p>
        <p>For completeness, I've quoted it verbatim:</p>
        <blockquote>
        <p>For anyone interested, Fastmail uses <a href="https://www.cyrusimap.org/">Cyrus IMAP</a> which is an all-in-one IMAP, CalDAV and CardDAV server. As I understand it, it <a href="https://www.cyrusimap.org/imap/concepts/features/dav-collection-mgmt.html">represents calendars as mailboxes under the hood</a> hence why you use your Fastmail address as the identifier. That is, you have a single &quot;calendar&quot; in the UI but you can have multiple calendars on it eg; one for Events, one for Work and so on.</p>
        <p>In fact, we can prove this by requesting a bogus calendar:</p>
        </blockquote>
        <pre><code class="language-shell">$ curl -u &lt;fastmail-email&gt;:&lt;fastmail-app-password&gt; https://caldav.fastmail.com/dav/calendars/user/&lt;fastmail-email&gt;/blah
        &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
        &lt;html&gt;
        &lt;head&gt;
        &lt;title&gt;404 Not Found&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
        &lt;h1&gt;Not Found&lt;/h1&gt;
        &lt;p&gt;Mailbox does not exist&lt;/p&gt;
        &lt;hr&gt;
        &lt;address&gt;Cyrus-HTTP/3.7.0-alpha0-591-gfe6c3a2700-fm-20220427.001-gfe6c3a27 Cyrus-SASL/2.1.27 Lib/XML2.9.10 Jansson/2.13.1 OpenSSL/1.1.1n Wslay/1.1.1 Zlib/1.2.11 Brotli/1.0.9 Xapian/1.5.0 LibiCal/3.0 ICU4C/69.1 SQLite/3.34.1 Server at caldav.fastmail.com Port 2075&lt;/address&gt;
        &lt;/body&gt;
        &lt;/html&gt;
        </code></pre>
        <p><em>Note how it is looking for a mailbox despite being a caldav server</em></p>
        <blockquote>
        <p>So yeah, your calendars are just email inboxes under the hood with Fastmail!</p>
        <p>More specifically, there is a mailbox per calendar (I think) and that mailbox is full of <a href="https://en.wikipedia.org/wiki/ICalendar">ics</a> files</p>
        </blockquote>
        ]]>
      </content:encoded>
      <pubDate>Sat, 28 May 2022 07:20:00 GMT</pubDate>
    </item>
    <item>
      <title>Plex + Tidal = A Nice Match</title>
      <link>http://localhost:3000/blog/-plex-tidal-together/</link>
      <guid isPermaLink="false">http://localhost:3000/blog/-plex-tidal-together/</guid>
      <description>A lengthy post in which I gush about how I like Plexamp a lot due to how it integrates nicely with Tidal</description>
      <content:encoded>
        <![CDATA[<p>{{% notice emoji=&quot;üñº&quot; title=&quot;Look at this photograph&quot; %}}
        Due to the nature of this post, it's pretty image heavy.</p>
        <p {%="" notice="" %="">Not all of the images are legible if you look at them inline so just a heads up that you can click on an image to view the full thing.</p>
        <p>As I'm sure you're probably aware, Spotify has <a href="https://www.npr.org/2022/01/31/1076891070/joe-rogan-responds-spotify-podcast-covid-misinformation">had a bit of news coverage lately</a> regarding <a href="https://en.wikipedia.org/wiki/The_Joe_Rogan_Experience">The Joe Rogan Experience</a>.</p>
        <p>As a result, the band <a href="https://en.wikipedia.org/wiki/Failure_(band)">Failure</a> announced[^pulling] that they are going to <a href="https://www.nme.com/en_au/news/music/failure-remove-their-music-from-spotify-over-covid-controversy-enough-is-enough-3152537">pull their music from Spotify</a> in part because the <a href="https://en.wikipedia.org/wiki/Criticism_of_Spotify#Allegations_of_unfair_artist_compensation">streaming payouts are supposed to be some of the worst in the industry</a>.</p>
        <p>I can't speak to any of the above with accuracy nor is this a post about the ethics of the streaming model for artists.</p>
        <p>Instead, I'm just a fan of Failure who figured they would take this opportunity to review other streaming services and see how they fare.</p>
        <p>The goal here is to find a setup that lets me listen to everything I enjoy, with as little friction, while still supporting the artists I care about.</p>
        <p>The solution I've found that works for me, and that I'll be covering in this post, is to stream most things via <a href="https://plexamp.com/">Plexamp</a>.</p>
        <p>It supports both streaming from <a href="https://tidal.com/">Tidal</a> and playing content stored locally on my <a href="https://www.plex.tv/">Plex</a> server, such as rips from games that never released official soundtracks.</p>
        <p>For everything else, I can purchase albums from <a href="https://bandcamp.com/">Bandcamp</a>, including content that was <a href="https://failureband.bandcamp.com/album/fantastic-planet-live">never streamable</a> in the first place, plus I can feel better that I'm better compensating the artists I enjoy.</p>
        <p>From here, you can either save yourself a solid 15 - 20 minutes and close the tab or if you'd like to read a deep dive into the bits and pieces that sold me on this setup, then I hope you enjoy what is now the longest post on this site to date üòÆ‚Äçüí®</p>
        <h2>My history with Spotify</h2>
        <p>I've had Spotify Premium for a number of years as part of an offer with my <a href="https://www.spark.co.nz/getmore/spotify/">telco</a>.</p>
        <p>On their highest data plan, Spotify Premium is entirely free while lower plans give a partial subsidy[^subsidy] but I've never actually used the Spotify Free tier in any meaningful capacity.[^cafe]</p>
        <p>While I've discovered a lot of new tracks over the years with Spotify, my general usage pattern is that I replay the last 10 - 20 songs on my Liked Songs playlist and occasionally I'll use the Song Radio feature on one of them.</p>
        <p>This cycle repeats as I add more songs to Liked Songs and my &quot;play window&quot; slides up to include the new song and as a result, the last song dropped &quot;outside&quot; of the window.</p>
        <p>Given my usage pattern, I'm not hugely worried about giving up custom playlists[^discover] like &quot;Discover Weekly&quot; that I know a lot of people swear by. Worst case, I can still view them in the free version of Spotify if I decide to move on.</p>
        <h2>My ideal criteria for a replacement</h2>
        <p>This post was never meant to be a comprehensive comparison of different services and what they offer but in saying that, it got a bit out of hand.</p>
        <p>Spotify, <a href="https://music.apple.com/">Apple Music</a> and <a href="https://tidal.com/">Tidal</a> were the three main contenders that I compared based on the (arguably niche) criteria I care about.</p>
        <p>Let's break down of those bits of criteria and how each service matches up against them, at least in my experience.</p>
        <h3>A good API</h3>
        <p>For anyone who has seen the little &quot;Now Playing&quot; widget on the front page of my site[^nowplaying], it was <a href="https://github.com/marcus-crane/gunslinger/blob/db5337d6e6846d3555540abaafb0bcba775c3cf2/jobs/spotify.go#L61">powered by the Spotify API</a> by polling every few seconds for what I'm currently listening to. I'd definitely want to recreate that functionality if I can.</p>
        <p>As far as I know, Spotify has the <a href="https://developer.spotify.com/documentation/web-api/reference/#/">most comprehensive API</a> of any streaming platform, even exposing the ability to control playback programatically which could make for some really cool projects.</p>
        <h4>Apple Music</h4>
        <p>Apple Music is mostly ruled out here given their <a href="https://developer.apple.com/documentation/applemusicapi/">API</a> is pretty lacking in general, especially when it comes to interacting with the current user.</p>
        <p>I dunno what it is about Apple but reading their API documentation makes me feel like I've been teleported back to 2006 with a bucket full of XML.</p>
        <p>Maybe it's just a cultural artefact from when they only dealt with desktop applications because all of their web offerings feel extremely bizarre.</p>
        <h4>Tidal</h4>
        <p>Tidal is also out as they <a href="https://twitter.com/TIDAL/status/699726946817679360">don't even have a public API at all</a>.</p>
        <p>There are a couple of unofficial API clients on Github but some of them haven't seen much activity in recent times.</p>
        <p>I did consider trying to hack something together myself but that'll be addressed in the next section.</p>
        <h3>Cross-platform sessions</h3>
        <p>This is something that Spotify really excels at.</p>
        <p>If you play a song on mobile, you can continue it on your desktop and vice versa. By that, I mean you could either transfer the track to your desktop, picking up exactly where you left off, or you could continue on mobile while controlling the session from your desktop (ie; changing volume, pausing, switching song).</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/spotify-remote-session.jpg" alt="A screenshot of the Spotify desktop client open to the album White Pony by the band Deftones. The track &quot;Change (In the House of Flies)&quot; is currently playing. At the bottom of the screen is a green banner that says &quot;Listening on Marcus's iPhone&quot;. This indicates that the user is able to remotely control the session from their desktop."></p>
        <p>This was really handy at my previous job where trying to stream over a VPN[^vpn] was just asking for trouble.</p>
        <p>Other times, I might be in the middle of a long podcast on mobile and I can't be bothered transferring as I sit down at my desktop.</p>
        <h4>Apple Music</h4>
        <p>This... sort of works on a technical level but still not really. I was disappointed here given that Apple generally has a decent track record when it comes to devices talking with each other.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/apple-music-session.jpg" alt="A screenshot of the Apple Music client open to the artist page for Missy Elliot. A share icon in the top right of the navigation bar has been selected, with multiple Apple devices visible such as a laptop, Apple TV and Homepod. The song Work It by Missy Elliot has just started playing. Visible in the share switcher is the ability to switch to the &quot;Lounge Room&quot;, in this case the Homepod, where ATM by J. Cole was previously playing."></p>
        <p>As you can see, Apple Music on my laptop is aware that I'm playing a song on an <a href="https://www.apple.com/nz/homepod-mini/">HomePod</a>. I can then select the HomePod and pause the track which then reflects instantly on my phone as well.</p>
        <p>So basically, you can have sessions but only when the playing device is not an Apple Music client itself.</p>
        <p>I also ran into this fun popup when poking around and this won't be the last time we see something like it in this post</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/apple-music-too-many-devices.jpg" alt="Visible over a desktop wallpaper is a native macOS dialog popup. At the top of the popup is the Apple Music logo. The text reads &quot;More than one device is trying to play music. With a Family plan, up to 5 other people can stream their music at once.&quot; with the ability to select Not Now or Upgrade."></p>
        <h4>Tidal</h4>
        <p>While looking into whether I could pull session information out of Tidal, I realised that it doesn't really have a concept of a current session. For example, if I play a song in the Tidal iOS app, the Tidal desktop client has no idea about any other clients. This doesn't reflect in the API either, at least from the calls I could see it making.</p>
        <h3>Artists I like</h3>
        <p>This basically boils down to Failure who I previously mentioned and <a href="https://edharrison.bandcamp.com/">Ed Harrison</a> given I listen to the Neotokyo OST a lot. Apparently Ed was my #1 artist in 2020 (according to Spotify Wrapped) with just over 2000 minutes (33.3 hours) which is... pretty bad.</p>
        <h3>Apple Music</h3>
        <p>It has both Failure and Ed Harrison's catalogue. I'm happy.</p>
        <h3>Tidal</h3>
        <p>It has Failure and some of Ed Harrison's catalogue but not NeoTokyo. Honestly, this was a bit of a death blow for me as far as using Tidal by itself.</p>
        <p>Tidal did have Jay-Z content as an exclusive in the past, which also included the Jay x Kanye West crossover album <a href="https://en.wikipedia.org/wiki/Watch_the_Throne">Watch the Throne</a> which I like a lot. This is no longer the case as Jigga released his catalogue on Spotify to <a href="https://twitter.com/Spotify/status/1202090253839937536">celebrate his 50th birthday</a>.</p>
        <p>Also, as I write this, I'm now learning that <a href="https://www.vox.com/recode/22313268/tidal-square-jay-z-jack-dorsey-nft-explainer">Hov sold the majority of his shares to <strike>Square</strike> Block</a> in 2021? What the fuck?</p>
        <p>{{&lt; tweet &quot;jack&quot; 1367460921937817602 &gt;}}</p>
        <p>Jack Dorsey mentioned his vision for the future of Tidal:</p>
        <blockquote>
        <p>We‚Äôll work on entirely new listening experiences to bring fans closer together, simple integrations for merch sales, modern collaboration tools, and new complementary revenue streams.</p>
        </blockquote>
        <p>That basically means nothing to me but whatever. The Carter Administration is still on the board of <strike>Square</strike> Block and that can only mean one thing.</p>
        <p><img src="https://s29.q4cdn.com/628966176/files/images/board/blockheads-BOD-jayz.png" alt="An image of Jay-Z from the Square website. More specifically, it is a 3D cube being displayed at an angle to the camera. Overlaid on the cube is an image of Jay-Z's face. This is supposed to be a play on the fact that investors in Block, the company previously known as Square, where employees are known as Blockheads. It's stupid."></p>
        <p>Beautiful.</p>
        <h2>An annoying compromise</h2>
        <p>At this point, neither Tidal or Apple Music are hugely appealing based on the features I've mentioned so far.</p>
        <p>They're perfectly fine as streaming services but there's another aspect I haven't mentioned up to this point: Music stored on my Plex server.</p>
        <p>I have a few rips<a href="http://localhost:3000/blog/-plex-tidal-together/%5B*cough*%5D(https://github.com/marcus-crane/khinsider)">^khinsider</a> from various videogames that <a href="https://www.youtube.com/watch?v=e7Zn5I1xutE">don't have official albums</a> that I've kept floating around my Plex server for a few years now.</p>
        <p>I aspire to listen to them more but I never get around to listening to them with Spotify as my daily driver as it doesn't support local files in any useful way[^localfiles]. It would be nice if there was a way to have both things in the same place.</p>
        <p>My plan at this point was going to be trying out Tidal since it had a relatively nice UI. To get around the lack of Neotokyo, I could just purchase Ed's work from <a href="https://bandcamp.com/">Bandcamp</a> and load it onto Plex and just deal with the UX hassle of constantly switching between apps.</p>
        <h2>The perfect candidate appears</h2>
        <p>I had been vaguely aware for a while that Plex touted some sort of integration with Tidal but I had no idea what form it took.</p>
        <p>I had even read up on integration, where the killer feature is <a href="https://support.plex.tv/articles/add-tidal-content-to-your-plex-music-library/">clearly outlined</a> but apparently I did a rubbish job at reading since I entirely overlooked it.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-add-to-library.jpg" alt="A screenshot of the Plexamp iOS application. It is open to Jay-Z's artist page where a few of his albums are visible. A menu is open at the bottom with a number of options including &quot;Add to Library&quot; and &quot;Add to My TIDAL&quot;."></p>
        <p>You'll see that there are two buttons at the bottom of the screen: <em>Add to My TIDAL</em> and <em>Add to Library</em>.</p>
        <p>When I first hooked up Tidal to Plex, I would just press <em>Add to My TIDAL</em>.</p>
        <p>Ok, great, it adds albums to my TIDAL library remote through Plex. Big whoop. A few days later, I accidentally hit <em>Add to Library</em> and oh my god.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-jak-jay.jpg" alt="A cropped image of the Plexamp macOS application is visible. It is open to the albums page with displays the cover art for a number of albums. Visible are a few Jay-Z albums, the Kane &amp; Lynch OST, the OSTs for Jak 2 and 3, a Pokemon OST and three Kanye West albums."></p>
        <p>You're telling me I can put Jay right next to Jak? Wrap it up, I think we've got a winner on our hands! At this point, I was sold.</p>
        <p>The ability to add virtual streaming items right next to my &quot;local&quot; (streaming from across the living room) items is pretty much the ideal outcome.</p>
        <p>In fairness, Google Play Music offered something like this in the past but the idea of investing effort into a Google product is about as attractive as <a href="https://music.youtube.com/googleplaymusic">preordering a coffin</a>.</p>
        <p>Anyway, with this, we can tick one piece of criteria off the list:</p>
        <p>‚úÖ for <strong>Artists I like</strong> (1/3)</p>
        <h2>A quick note on Plexamp</h2>
        <p>Before we continue, I should note that I mostly interface with my Plex library (and Tidal) through <a href="https://plexamp.com/">Plexamp</a>.</p>
        <p>For an audio player that <a href="https://medium.com/plexlabs/introducing-plexamp-9493a658847a">started life back in 2017</a> as a <a href="https://medium.com/plexlabs">Plex Labs</a> experiment, it has grown into an entire ecosystem, complete with mobile and desktop apps.</p>
        <p>To be clear, it's just streaming content from your plex server through a music-focused client. It doesn't require deploying any additional software. You can also listen to Podcasts (via Plex) on it too although I don't do that myself.</p>
        <p>The Tidal integration works perfectly fine with the regular Plex apps as well but the music section in general shines brightest when using Plexamp if you ask me.</p>
        <h2>Ok but how well does it actually integrate with Tidal</h2>
        <p>At this point in our tour, you might be thinking &quot;Ok, sure but I bet under the hood, it's just duct tape and chewing gum&quot; which is definitely what I expected going in.</p>
        <p>Thankfully, it really is a first class Plex citizen and I'll even give you a whirlwind tour of my favourite features.</p>
        <h3>Cross-platform search</h3>
        <p>Whether finding something new or something existing, you can search across your entire catalog and Tidal's at the same time which is really appreciated.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-cross-search.jpg" alt="Visible is a screenshot of the Plexamp iOS application. It is open to a search for the phrase &quot;Bad Company&quot;. The results are split into sections. The first section called &quot;Albums&quot; contains one result which is the OST for Battlefield: Bad Company 2. The next two sections are &quot;Tidal Artists&quot; and &quot;Tidal Albums&quot; respectively which surface results relating to the phrase &quot;Bad Company&quot;."></p>
        <h3>A lively home screen</h3>
        <p>The home screen is a great example of how Tidal content is interweaved with your local content pretty seamlessly.</p>
        <p>The only thing that differentiates the two is a little logo tucked away next to the last played indicator.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-home.jpg" alt="Visible is a screenshot of the Plexamp iOS application. It is open to the home screen which is broken into a two sections: &quot;Recent Plays&quot; and &quot;Recently Added in Music&quot;. More sections exist off screen. At the bottom is a currently playing song &quot;Empire State of Mind&quot; by Jay-Z."></p>
        <p>There's much more that isn't illustrated here too. My library is still pretty empty (relatively speaking) but Plexamp will generate mixes for you like this:</p>
        <p><img src="https://www.plex.tv/wp-content/uploads/2021/08/scrolling-mixes.gif" alt="Visible is an animated GIF displaying a section of the Plexamp iOS homescreen. A &quot;Mixes for You&quot; section is being scrolled through, showing mixes for various artist. For example: a 2Pac Mix containing songs by various rap artists."></p>
        <p>To enable automatic mixes, and other features, you'll want to enable <a href="https://support.plex.tv/articles/sonic-analysis-music/">Sonic Analysis</a>. I did a bit of a facepalm when I realised I didn't have this enabled yet. I even read the blog post for it when it launched!</p>
        <p>There's also a feature for surfacing what happened &quot;On This Day&quot; in music history:</p>
        <p><img src="https://www.plex.tv/wp-content/uploads/2021/08/on-this-day-crop-800x390.png" alt="Visible is the cover art for the album She's the One by Tom Petty within a section called &quot;On this Day&quot;. It states that the album mentioned come out on this day 25 years ago."></p>
        <p>It would have said that February 10th[^feb] is the 28th anniversary of <a href="https://en.wikipedia.org/wiki/The_College_Dropout">The College Dropout</a> if not for a <a href="https://twitter.com/plexamp/status/1491497134851428352">pesky oversight</a>. Thankfully it should be addressed soon so we can appropriately celebrate ye's
        29th debut next year.</p>
        <h3>Viewing albums by mood</h3>
        <p>There are a couple of cool groups like this such as albums by record labels and so on but mood is one of the more interesting.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-mood.jpg" alt="Visible is a screenshot of a desktop with the Plexamp macOS application open. A list called &quot;Belligerent&quot; is open with a handful of albums that reflect that mood or feeling."></p>
        <p>I haven't taken it for a spin just yet but based on the premise, I can see myself using this quite a bit. It also demonstrates yet again how nicely the two sources (local and tidal) can play together.</p>
        <p>It's about time that we look at why they play nicely together so let's take a peek under the hood.</p>
        <h2>How's the API though?</h2>
        <p>If you remember, something I wanted was to continue powering the &quot;Now playing&quot; widget on the front of my website.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/utf9k-nowplaying.jpg" alt="Visible is a screenshot of this website open in a small Safari window. Visible is a Now Playing widget showing Roses by Outkast. It reflects the song playing in Plexamp offscreen."></p>
        <p>‚úÖ for <strong>A good API</strong> (2/3)</p>
        <p>Initially playing Tidal content through the dedicated &quot;Music On TIDAL&quot; library[^source] didn't surface anything in the API but by virtue of adding items to our regular music library instead, we get full metadata available via the <code>/status/sessions</code> endpoint.</p>
        <details><summary>Here's the absolute mountain of information available for you to play with</summary>
        <pre><code class="language-json">{
        &quot;MediaContainer&quot;: {
        &quot;size&quot;: 1,
        &quot;Metadata&quot;: [
        {
        &quot;addedAt&quot;: &quot;1064275200&quot;,
        &quot;allowSync&quot;: &quot;0&quot;,
        &quot;art&quot;: &quot;/library/metadata/9560/art/1644407944&quot;,
        &quot;attribution&quot;: &quot;com.tidal&quot;,
        &quot;duration&quot;: &quot;369573&quot;,
        &quot;grandparentArt&quot;: &quot;/library/metadata/9560/art/1644407944&quot;,
        &quot;grandparentGuid&quot;: &quot;plex://artist/5d07bbfc403c6402904a6105&quot;,
        &quot;grandparentKey&quot;: &quot;/library/metadata/9560&quot;,
        &quot;grandparentRatingKey&quot;: &quot;9560&quot;,
        &quot;grandparentThumb&quot;: &quot;/library/metadata/9560/thumb/1644407944&quot;,
        &quot;grandparentTitle&quot;: &quot;OutKast&quot;,
        &quot;guid&quot;: &quot;plex://track/5d07cebf403c6402900cd0d9&quot;,
        &quot;index&quot;: &quot;10&quot;,
        &quot;key&quot;: &quot;/library/metadata/9590&quot;,
        &quot;lastViewedAt&quot;: &quot;1644480645&quot;,
        &quot;librarySectionID&quot;: &quot;4&quot;,
        &quot;librarySectionKey&quot;: &quot;/library/sections/4&quot;,
        &quot;librarySectionTitle&quot;: &quot;Music&quot;,
        &quot;oneShot&quot;: &quot;1&quot;,
        &quot;originallyAvailableAt&quot;: &quot;2003-09-23&quot;,
        &quot;parentGuid&quot;: &quot;plex://album/5d07c173403c640290846b36&quot;,
        &quot;parentIndex&quot;: &quot;2&quot;,
        &quot;parentKey&quot;: &quot;/library/metadata/9561&quot;,
        &quot;parentRatingKey&quot;: &quot;9561&quot;,
        &quot;parentStudio&quot;: &quot;Arista&quot;,
        &quot;parentThumb&quot;: &quot;/library/metadata/9561/thumb/1644407962&quot;,
        &quot;parentTitle&quot;: &quot;Speakerboxxx / The Love Below&quot;,
        &quot;parentYear&quot;: &quot;2003&quot;,
        &quot;ratingKey&quot;: &quot;9590&quot;,
        &quot;remoteMedia&quot;: &quot;1&quot;,
        &quot;sessionKey&quot;: &quot;453&quot;,
        &quot;sourceKey&quot;: &quot;/library/metadata/5c038b3e48a2d2001de6a1a6&quot;,
        &quot;summary&quot;: &quot;&quot;,
        &quot;thumb&quot;: &quot;/library/metadata/9561/thumb/1644407962&quot;,
        &quot;title&quot;: &quot;Roses&quot;,
        &quot;type&quot;: &quot;track&quot;,
        &quot;updatedAt&quot;: &quot;1644407920&quot;,
        &quot;viewCount&quot;: &quot;1&quot;,
        &quot;viewOffset&quot;: &quot;258&quot;,
        &quot;Media&quot;: [
        {
        &quot;audioCodec&quot;: &quot;aac&quot;,
        &quot;container&quot;: &quot;mp4&quot;,
        &quot;duration&quot;: &quot;369000&quot;,
        &quot;id&quot;: &quot;12075&quot;,
        &quot;optimizedForStreaming&quot;: &quot;1&quot;,
        &quot;source&quot;: &quot;provider://tv.plex.provider.music&quot;,
        &quot;Part&quot;: [
        {
        &quot;container&quot;: &quot;mp4&quot;,
        &quot;duration&quot;: &quot;369000&quot;,
        &quot;id&quot;: &quot;12156&quot;,
        &quot;key&quot;: &quot;/library/parts/1772296-HIGH&quot;,
        &quot;Stream&quot;: [
        {
        &quot;albumGain&quot;: &quot;-9.71&quot;,
        &quot;albumPeak&quot;: &quot;0.998444&quot;,
        &quot;albumRange&quot;: &quot;10.019548&quot;,
        &quot;bitrate&quot;: &quot;320&quot;,
        &quot;codec&quot;: &quot;aac&quot;,
        &quot;displayTitle&quot;: &quot;AAC&quot;,
        &quot;duration&quot;: &quot;369000&quot;,
        &quot;extendedDisplayTitle&quot;: &quot;AAC&quot;,
        &quot;gain&quot;: &quot;-10.6&quot;,
        &quot;id&quot;: &quot;25488&quot;,
        &quot;index&quot;: &quot;0&quot;,
        &quot;peak&quot;: &quot;0.988556&quot;,
        &quot;selected&quot;: &quot;1&quot;,
        &quot;streamType&quot;: &quot;2&quot;
        },
        {
        &quot;codec&quot;: &quot;lrc&quot;,
        &quot;displayTitle&quot;: &quot;LRC (External)&quot;,
        &quot;extendedDisplayTitle&quot;: &quot;LRC (External)&quot;,
        &quot;format&quot;: &quot;lrc&quot;,
        &quot;id&quot;: &quot;26578&quot;,
        &quot;key&quot;: &quot;/library/streams/26578&quot;,
        &quot;minLines&quot;: &quot;3&quot;,
        &quot;provider&quot;: &quot;com.plexapp.agents.lyricfind&quot;,
        &quot;streamType&quot;: &quot;4&quot;,
        &quot;timed&quot;: &quot;1&quot;
        },
        {
        &quot;codec&quot;: &quot;txt&quot;,
        &quot;displayTitle&quot;: &quot;TXT (External)&quot;,
        &quot;extendedDisplayTitle&quot;: &quot;TXT (External)&quot;,
        &quot;format&quot;: &quot;txt&quot;,
        &quot;id&quot;: &quot;26579&quot;,
        &quot;key&quot;: &quot;/library/streams/26579&quot;,
        &quot;provider&quot;: &quot;com.plexapp.agents.lyricfind&quot;,
        &quot;streamType&quot;: &quot;4&quot;
        }
        ]
        }
        ]
        },
        {
        &quot;audioCodec&quot;: &quot;aac&quot;,
        &quot;container&quot;: &quot;mp4&quot;,
        &quot;duration&quot;: &quot;369000&quot;,
        &quot;id&quot;: &quot;12076&quot;,
        &quot;optimizedForStreaming&quot;: &quot;1&quot;,
        &quot;source&quot;: &quot;provider://tv.plex.provider.music&quot;,
        &quot;Part&quot;: [
        {
        &quot;container&quot;: &quot;mp4&quot;,
        &quot;duration&quot;: &quot;369000&quot;,
        &quot;id&quot;: &quot;12157&quot;,
        &quot;key&quot;: &quot;/library/parts/1772296-LOW&quot;,
        &quot;Stream&quot;: [
        {
        &quot;albumGain&quot;: &quot;-9.71&quot;,
        &quot;albumPeak&quot;: &quot;0.998444&quot;,
        &quot;albumRange&quot;: &quot;10.019548&quot;,
        &quot;bitrate&quot;: &quot;96&quot;,
        &quot;codec&quot;: &quot;aac&quot;,
        &quot;displayTitle&quot;: &quot;AAC&quot;,
        &quot;duration&quot;: &quot;369000&quot;,
        &quot;extendedDisplayTitle&quot;: &quot;AAC&quot;,
        &quot;gain&quot;: &quot;-10.6&quot;,
        &quot;id&quot;: &quot;25489&quot;,
        &quot;index&quot;: &quot;0&quot;,
        &quot;peak&quot;: &quot;0.988556&quot;,
        &quot;selected&quot;: &quot;1&quot;,
        &quot;streamType&quot;: &quot;2&quot;
        },
        {
        &quot;codec&quot;: &quot;lrc&quot;,
        &quot;displayTitle&quot;: &quot;LRC (External)&quot;,
        &quot;extendedDisplayTitle&quot;: &quot;LRC (External)&quot;,
        &quot;format&quot;: &quot;lrc&quot;,
        &quot;id&quot;: &quot;26580&quot;,
        &quot;key&quot;: &quot;/library/streams/26580&quot;,
        &quot;minLines&quot;: &quot;3&quot;,
        &quot;provider&quot;: &quot;com.plexapp.agents.lyricfind&quot;,
        &quot;streamType&quot;: &quot;4&quot;,
        &quot;timed&quot;: &quot;1&quot;
        },
        {
        &quot;codec&quot;: &quot;txt&quot;,
        &quot;displayTitle&quot;: &quot;TXT (External)&quot;,
        &quot;extendedDisplayTitle&quot;: &quot;TXT (External)&quot;,
        &quot;format&quot;: &quot;txt&quot;,
        &quot;id&quot;: &quot;26581&quot;,
        &quot;key&quot;: &quot;/library/streams/26581&quot;,
        &quot;provider&quot;: &quot;com.plexapp.agents.lyricfind&quot;,
        &quot;streamType&quot;: &quot;4&quot;
        }
        ]
        }
        ]
        }
        ],
        &quot;User&quot;: {
        &quot;id&quot;: &quot;1&quot;,
        &quot;thumb&quot;: &quot;https://plex.tv/users/&lt;me&gt;/avatar?c=1643535847&quot;,
        &quot;title&quot;: &quot;Sentryism&quot;
        },
        &quot;Player&quot;: {
        &quot;address&quot;: &quot;172.17.0.1&quot;,
        &quot;device&quot;: &quot;macOS&quot;,
        &quot;machineIdentifier&quot;: &quot;&lt;my machine&gt;&quot;,
        &quot;model&quot;: &quot;&quot;,
        &quot;platform&quot;: &quot;macOS&quot;,
        &quot;platformVersion&quot;: &quot;21.4.0&quot;,
        &quot;product&quot;: &quot;Plexamp&quot;,
        &quot;remotePublicAddress&quot;: &quot;172.17.0.1&quot;,
        &quot;state&quot;: &quot;playing&quot;,
        &quot;title&quot;: &quot;skeith&quot;,
        &quot;vendor&quot;: &quot;&quot;,
        &quot;version&quot;: &quot;3.9.1&quot;,
        &quot;local&quot;: false,
        &quot;relayed&quot;: false,
        &quot;secure&quot;: true,
        &quot;userID&quot;: 1
        }
        }
        ]
        }
        }
        </code></pre>
        </details>
        <p>We can definitely work with that!</p>
        <p>It is possible to have multiple sessions at once, and Plexamp often takes a while for sessions to terminate upon closing the app but I just sidestep that by filtering for any sessions that aren't paused. Don't worry, there'll be a section for gotchas like this later on.</p>
        <p>I'll also put it into perspective that we're accessing metadata about a third party playing track, in a world that would love to choke you out with Widevine gloves on the mat. Relatively speaking, it's pretty refreshing to see.</p>
        <p>As far as how this is possible, what's really going on here is that Plex's own metadata providers are doing the heavy lifting. When playing your local music, you get the exact same payload except for the <code>&quot;attribution&quot;: &quot;com.tidal&quot;</code> entry at the start.</p>
        <h2>What about cross-platform sessions?</h2>
        <p>Kind of but not really?</p>
        <p>At this point, I'll take 2 out of 3 happily but we're apparently getting something in this space very soon!</p>
        <p>{{&lt; tweet &quot;plexamp&quot; &quot;1489024846033915908&quot; &gt;}}</p>
        <p>‚ùå but üëÄ for <strong>Cross-platform sessions</strong> (2/3)</p>
        <p><strong>UPDATE</strong>: For Valentines Day, we got <a href="https://forums.plex.tv/t/plexamp-release-notes/221280/38">a lofty 4.0 update</a> which includes, among other things, the ability to control your playback on another device!</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plex-remote-session.jpg" alt="Visible in the background, but obscured by a popup, is the album Fantastic Planet by Failure. Overlaid is a widget asking the user to &quot;Select Player&quot;. Visible are two different players: The author's iPhone and the desktop currently playing Fantastic Planet. The implication here is that it is possible to transfer the currently playing album to another device on the network."></p>
        <p>What you're seeing here is my phone controlling a session that's playing on my laptop.</p>
        <p>Given this was part of a larger refactor that unlocked a lot of capabilities, I assume we'll see this fleshed out even more going forward.</p>
        <p>I'll be updating this to:</p>
        <p>‚úÖ for <strong>Cross-platform sessions</strong> (3/3)</p>
        <p>although my fingers are crossed that it gets to be even more seamless than it is in the first release!</p>
        <h2>Ok but what's the catch here</h2>
        <p>In the spirit of fairness, nothing is perfect and there are few things I've stumbled across while using this setup as my daily driver.</p>
        <p>Most of these are either fine in moderation or things that I'm sure the <a href="https://twitter.com/plexamp">Plexamp team</a> are aiming to address. If not, the team can consider this post as my bug report/feature request list!</p>
        <h3>Hard dependency on the authentication server</h3>
        <p>I had the misfortune of having this integration go down briefly due to an outage with the Plex authentication server.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plex-status-page.jpg" alt="Visible is a screenshot of the Plex status page cropped to show two sections: &quot;Authentication and API server&quot; and &quot;Plex website&quot;. Visible for the first section a couple of outages over a 90 day period equally a total uptime of 99.81%."></p>
        <p>As one might imagine, we're still at the mercy of (fairly invisible) DRM under the hood. No authentication server surely means no way to verify who has rights to play Tidal content.</p>
        <p>{{% notice emoji=&quot;üîë&quot; title=&quot;A tip for Plex server owners&quot; %}}
        <a href="https://en.wikipedia.org/wiki/Entropy">Entropy</a> is a sad fact of life and Plex's authentication servers are no different.</p>
        <p>They're relatively stable but it's inevitable that the authentication server will fail again one day.</p>
        <p>That isn't a slight towards Plex, it's just an unavoidable reality about computers.</p>
        <p {%="" notice="" %="">Anyway, to work around this in future, you can <a href="https://support.plex.tv/articles/200890058-authentication-for-local-network-access/">whitelist your local network</a> so that you can still stream (locally stored) content while you wait for the authentication server to return.</p>
        <p>While this sounds bad on paper, it's not really an issue in that nothing stops me just opening Tidal itself and streaming music from there in the meantime. If you remember, Plex has an &quot;Add to My Tidal&quot; button and this is where it can be useful as a backup.</p>
        <p>As an <a href="https://sre.google/">SRE</a>, albeit one currently off the clock, if I'm going to talk shit about availability then I should bring some data and so I did a brief skim of the <a href="https://status.plex.tv/">Plex status page</a>.</p>
        <p>Basically, I added up the number of minutes elapsed for every publicly listed outage for the year of 2021 and got something just under 9 hours. That's almost bang on 99.9% (three nines) which is a pretty standard expectation for services.</p>
        <p>Arguably you'd hope for something closer to 99.99% (four nines) for a critical piece of infrastructure like that but eh, I'm not exactly doing math out here.</p>
        <p>Some of those incidents aren't even attributed to authentication outages but I threw them in there just to look at the worst case scenario.</p>
        <p>These outages, when they do happen, are generally about an hour long. The odds of hitting the same hour period in the same month is <a href="https://rachelbythebay.com/w/2019/07/15/giant/">pretty slim... right?</a>. I've used Plex for years prior to this and only run into them a couple of times although I will admit that music streaming is something that I do a lot more than visual media.</p>
        <p>My personal opinion is that it's fine. I'm not overly concerned! I have too many local tracks in my backlog to listen to so I'll just take it as an excuse to go through unplayed content instead of consuming the same 5 Outkast albums on a loop until I die.</p>
        <p>Besides, every service has outages. This problem isn't unique to Plex.</p>
        <h3>DRM...? Maybe yes, maybe no?</h3>
        <p>I stumbled onto this purely by accident but I guess you can't stream Tidal content if you access your Plex server via your local network (ie; instead of via https://app.plex.net)</p>
        <p>Trying to do so gave me an error dialogue with this message:</p>
        <blockquote>
        <p>An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device.</p>
        </blockquote>
        <p>Despite the message, nothing else was playing and despite my best effort, I couldn't get this to go away.</p>
        <p>The exact same track would work via the hosted Plex app and I'm not entirely sure.</p>
        <p>I'm guessing there is some arbitrary legalese in the deal between Tidal and Plex that says &quot;You must only load our content over an SSL connection&quot; or something to that effect.</p>
        <p>It could also just be a bug ü§∑‚Äç‚ôÄÔ∏è</p>
        <p>Despite the error, it's perfectly possible to play multiple tracks from Tidal at the same time</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/tool-trio.jpg" alt="Visible is a cropped screenshot of the Plex media server dashboard. Visible are three Tool albums playing on three different Plex/Plexamp instances."></p>
        <p>If you're curious, here's how the aural mashup shown above sounded[^riaa]</p>
        <center>
        <audio controls>
        <source src="http://localhost:3000/blog/-plex-tidal-together/tool-trio.mp3" type="audio/mpeg">
        Your browser doesn't support the audio tag :(
        </audio>
        </center>
        <h3>You can't remove Tidal albums</h3>
        <p>This one seems like a weirdly obvious oversight so I'm going to give the benefit of the doubt here and assume there was some weird technical limitation that mean this was deferred to the backlog.</p>
        <p>The team are definitely aware of it:</p>
        <p>{{&lt; tweet &quot;plexamp&quot; &quot;1491494752327372801&quot; &gt;}}</p>
        <p>It's a little annoying though because I have added one or two albums accidentally and now they're just stuck with me forever but amongst an ocean of albums, it doesn't feel so bad.</p>
        <h3>Plexamp sessions are weirdly long lived</h3>
        <p>Interestingly, Plexamp sessions can't be cancelled by the owner of a Plex server?</p>
        <p>With most streaming content, you can force stop a session but here, you can't even kill your own sessions for some reason.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-not-pausing.jpg" alt="Visible is a cropped screenshot of the Plex media server dashboard. Visible are two Plexamp streams on different devices."></p>
        <p>In this screenshot, I've actually paused &quot;Praxis Palace&quot; but the media server continues to show it progressing as normal.</p>
        <p>The green padlock indicates that I can't touch the session so I just sort of need to wait for it to expire on its own.</p>
        <p>When the track reaches the end, the progress bar just jumps back to where I had gotten up to before closing the player.</p>
        <p>My fingers are crossed that this will probably be handled by the refactor that gives us controllability between platforms.</p>
        <h2>Closing thoughts</h2>
        <p>Believe or not, I actually cut this post short because I could gush about Plexamp for quite a while longer.</p>
        <p>Suffice to say, I was sold from the minute I was able to weave Tidal tracks alongside my local tracks.</p>
        <p><img src="http://localhost:3000/blog/-plex-tidal-together/plexamp-upnext.jpg" alt="Visible is a plain screenshot of the Plexamp desktop application with the song &quot;Praise the Lord (Da Shine)&quot; by A$AP Rocky playing."></p>
        <p>I've been meaning to listen to a lot more game OSTs and while a heap were added to Spotify, there are still some really niche ones I kick myself for not getting around to.</p>
        <p>The main thing that Plexamp offers me is the removal of friction between juggling multiple applications (in this case, Plex and Spotify) since the one I use heaviest will always dominate my focus.</p>
        <p>With this setup, I don't have to worry about it because everything is in one place!</p>
        <p>Usually that feels like a red flag but I think the integration has been handled really elegantly here. It's simply another provider for Plex with no more or less attention than every other provider. It just kinda works‚Ñ¢.</p>
        <p>I will reiterate though that if you don't care about local content, just use Spotify.</p>
        <p>If you balk at the thought of paying for both Plex and Tidal, maybe this also isn't for you. Personally I've subscribed to <a href="https://www.plex.tv/plex-pass/">Plex Pass</a> so many years in a row that I ended up just investing in a lifetime subscription.</p>
        <p>However, you like tinkering with APIs or you want to consolidate your library in one place, while not being enough of a masochist to build 100% of your library through local files, then maybe you'll enjoy this setup as much as I have.</p>
        <p>Plexamp definitely feels like a labour of love and all of the little UI string gag planted throughout the app promote that feeling.</p>
        <p>Perhaps the only question left now is whether I can bear to sully my library with <a href="https://www.youtube.com/watch?v=kJunmC9YKQA">untaggable content</a>.</p>
        <p>Enjoy!</p>
        <p>[^pulling]: It seems that these claims are starting to take effect. I didn't have any doubt but if I had to guess, I figure there's probably some process where Spotify waits out the calendar month in order to calculate compensation. It seems that Neil's entire catalogue has disappeared at the time of publishing. Prior to this, he pulled his catalogue <a href="https://variety.com/2015/digital/news/two-weeks-later-neil-young-finally-removes-his-music-from-spotify-1201550338/">back in 2015</a> due to &quot;my music [being] devalued by the worst quality in the history of broadcasting or any other form of distribution&quot;</p>
        <p>[^subsidy]: On lower plans, they usually pay for half and you just pay the remainder. It shows as an add-on to your mobile plan but it's a little more fiddly to setup than the higher data plan which just pays for the whole thing. If you use Spotify (as I did), it's easy to write off an upgrade to the highest plan as being the same plan + a Spotify sub which you'd have purchased anyway.</p>
        <p>[^cafe]: Funnily enough, the first time I heard a Spotify ad was actually at a cafe that was using Spotify's free version. I'm not entirely sure that's legal but damn, those ads really are annoying.</p>
        <p>[^discover]: I know some people absolutely swear by Discover Weekly and while I think it is really good, I always forget to listen to it. I'm also not opposed to just viewing it once a week and listening to those songs via an alternative streaming plans. Hell, I might just be able to pull the playlist via an API endpoint and populate an identical playlist somewhere else?</p>
        <p>[^nowplaying]: Currently, it shows TV shows, movies and music via Plex and even what I'm playing on my PS5 via the Playstation Network APIs. I'll probably write about it in a future blog post. It was previously powered by both Spotify and <a href="https://trakt.tv/">Trakt</a> before my switch though.</p>
        <p>[^vpn]: Especially given all of the traffic would transit through Germany while I lived in New Zealand. It wasn't really the VPN though, more that the traffic passed through two or three different <a href="https://en.wikipedia.org/wiki/Network_address_translation">NATs</a>.</p>
        <p>[^eardrums]: But for real though, nothing gets me in the mood to review software like having my eardrums blown out at 11:30pm while in bed :)</p>
        <p>[^localfiles]: The feature has degraded over the years so I'm not sure of the current state but last I checked, you can add local files to the desktop client. This doesn't actually sync them like a la Google Music but instead just dumps them all into a basic list that you can play. If you open Spotify on a different desktop, you have to do the same process again from scratch.</p>
        <p>[^feb]: The first draft of this post was written on Feb 10th but I didn't get around to editing it until Feb 12th hence this doesn't really line up with the publication date.</p>
        <p>[^source]: There are two sources in Plex: One shows your Tidal library by itself and streams direct from Tidal. Given this, Tidal content doesn't show up in the API, as the stream doesn't transit via Plex. The other source is when you add Tidal content to your music library. This does transit via Plex so it shows up via the API.</p>
        <p>[^riaa]: Do three audio fingerprints make a unique fingerprint? I hope the RIAA doesn't destroy my blog or I might have to use one of those shady Swiss bulletproof hosts going forward...</p>
        ]]>
      </content:encoded>
      <pubDate>Sat, 12 Feb 2022 00:20:00 GMT</pubDate>
    </item>
  </channel>
</rss>